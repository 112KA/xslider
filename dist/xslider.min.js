!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){var i=n(8),r=n(7);t.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}},function(t,e,n){var i=n(9);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,n){n(1);var i=n(10);function r(e,n,o){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=r=Reflect.get:t.exports=r=function(t,e,n){var r=i(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},r(e,n,o||e)}t.exports=r},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=i=function(t){return n(t)}:t.exports=i=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},i(e)}t.exports=i},function(t,e){function n(e,i){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,i)}t.exports=n},function(t,e,n){var i=n(1);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}},function(t,e,n){"use strict";n.r(e);n(12);var i=n(0),r=n.n(i),o=n(2),s=n.n(o),a=n(3),u=n.n(a),l=n(1),c=n.n(l),h=n(4),f=n.n(h),d=n(7),v=n.n(d),p={extend:function(t,e){var n={};Object.assign(n,t);for(var i=Object.entries(e),r=0;r<i.length;r++){var o=i[r];n[o[0]]=o[1]}return n},delegate:function(t,e){for(var n=Object.entries(e),i=0;i<n.length;i++){var r=n[i];t[r[0]]=r[1]}},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},getQuery:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._query||!e){this._query={};for(var n=window.location.search.substring(1).split("&"),i=0;i<n.length;i++){var r=n[i].split("="),o=decodeURIComponent(r[0]),s=decodeURIComponent(r[1]);this._query[o]=s}}return this._query[t]}},g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r()(this,t),this.set(e,n)}return s()(t,[{key:"set",value:function(t,e){this.data=[t,e]}},{key:"x",get:function(){return this.data[0]},set:function(t){this.data[0]=t}},{key:"y",get:function(){return this.data[1]},set:function(t){this.data[1]=t}}]),t}(),m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r()(this,t),this.set(e,n,i)}return s()(t,[{key:"set",value:function(t,e,n){this.data=[t,e,n]}},{key:"x",get:function(){return this.data[0]},set:function(t){this.data[0]=t}},{key:"y",get:function(){return this.data[1]},set:function(t){this.data[1]=t}},{key:"z",get:function(){return this.data[2]},set:function(t){this.data[2]=t}}]),t}(),x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r()(this,t),this.set(e,n,i,o)}return s()(t,[{key:"set",value:function(t,e,n,i){this.data=[t,e,n,i]}},{key:"equals",value:function(t){return this.x===t.x&&this.y==t.y&&this.z==t.z&&this.w==t.w}},{key:"width",set:function(t){this.data[2]=t},get:function(){return this.data[2]}},{key:"height",set:function(t){this.data[3]=t},get:function(){return this.data[3]}},{key:"x",get:function(){return this.data[0]},set:function(t){this.data[0]=t}},{key:"y",get:function(){return this.data[1]},set:function(t){this.data[1]=t}},{key:"z",get:function(){return this.data[2]},set:function(t){this.data[2]=t}},{key:"w",get:function(){return this.data[3]},set:function(t){this.data[3]=t}}]),t}(),y={vertexShader:"\nattribute vec2 position;\n\nvoid main(void) {\n\tgl_Position = vec4(position, 0.0, 1.0);\n}\n",fragmentShader:"\nprecision highp float;\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\nuniform vec2 gradient;\n\nvoid main(void) {\n\tvec2 uv = gl_FragCoord.xy /resolution.xy;\n\tvec4 color0 = texture2D(texture0, uv);\n\tvec4 color1 = texture2D(texture1, uv);\n\tfloat v = smoothstep(0.0, 1.0, progress * (1.0+gradient.x+gradient.y) - ((1.0-uv.x)*gradient.x+uv.y*gradient.y));\n\tgl_FragColor = mix(color0, color1, v);\n}\n",uniforms:{gradient:{value:new g(1,1)}},extend:function(t){return p.extend(this,t)}},_={selector:"#xslider",initialSlideIndex:0,autoplay:!1,loop:!0,touchMove:{throwable:!0},renderer:void 0,debug:!1,easing:.15,transition:y,get:function(t,e){return e?this[e]?this[e][t]:void 0:this[t]},Debug:{DISPLAY:{DOM:"DEBUG_DISPLAY_DOM",SVG:"DEBUG_DISPLAY_SVG",IMG:"DEBUG_DISPLAY_IMG"}}},b=function(){function t(){r()(this,t),this._listeners={},this._properties={}}return s()(t,[{key:"get",value:function(t){return this._properties[t]}},{key:"set",value:function(t){if(t)for(var e in t)if(void 0===this._properties[e]&&void 0!==t[e]||this._properties[e]!==t[e]){var n=this._properties[e];this._properties[e]=t[e],this.dispatch(e,{type:e,value:this._properties[e],value0:n})}}},{key:"dispatch",value:function(t,e){if(this._listeners.hasOwnProperty(t)){var n=!0,i=!1,r=void 0;try{for(var o,s=this._listeners[t][Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value,u=e||{type:t};a.listener(u)}}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}}}},{key:"on",value:function(t,e){return this.off(t,e),this._listeners.hasOwnProperty(t)||(this._listeners[t]=[]),this._listeners[t].push({type:t,listener:e}),this}},{key:"off",value:function(t,e){var n=this;if(t)e?this._listeners.hasOwnProperty(t)&&(this._listeners[t].some(function(i,r){i.listener==e&&n._listeners[t].splice(r,1)}),0==this._listeners[t].length&&delete this._listeners[t]):delete this._listeners[t];else for(var i in this._listeners)delete this._listeners[i];return this}},{key:"listeners",get:function(){return this._listeners}}]),t}(),w=n(5),k=n.n(w),E=function(t){function e(){var t;return r()(this,e),t=u()(this,c()(e).call(this)),console.info("xslider ver.","1.0.5"),t}return f()(e,t),s()(e,[{key:"support",get:function(){return e.support}}]),e}(b);E.support={touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,pointer:window.navigator.pointerEnabled,MSPointer:window.navigator.msPointerEnabled};var T=new E,S=[];T.support.touch?S.push("touchstart","touchmove","touchend"):T.support.pointer?S.push("pointerdown","pointermove","pointerup"):T.support.MSPointer?S.push("MSPointerDown","MSPointerMove","MSPointerUp"):S.push("mousedown","mousemove","mouseup");var C={START:S[0],MOVE:S[1],END:S[2]},D=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this)))._defineHandlers(),t.on("target",t._on.changeTarget),t}return f()(e,t),s()(e,[{key:"_defineHandlers",value:function(){var t=this;this._on={bubble:function(e){t.dispatch(e.type,e)},changeTarget:function(e){if(e.value0)for(var n in t._listeners)t._autoRemoveListener(e.value0,n);t.off()},touch:function(e){if(T.support.touch){var n=e.touches[0];n?(e.clientX=n.clientX,e.clientY=n.clientY):(e.clientX=t.clientX0,e.clientY=t.clientY0)}t.clientX0||(t.clientX0=e.clientX,t.clientY0=e.clientY),e.clientX0=t.clientX0,e.clientY0=t.clientY0,t.clientX0=e.clientX,t.clientY0=e.clientY,t.dispatch(e.type,e)},touchStart:function(e){t.clientX0=t.clientY0=void 0}}}},{key:"dispose",value:function(){this.off()}},{key:"on",value:function(t,n,i){k()(c()(e.prototype),"on",this).call(this,t,n,i);var r=this.get("target");return this._autoAddListener(r,t),this}},{key:"off",value:function(t,n){k()(c()(e.prototype),"off",this).call(this,t,n);var i=this.get("target");return this._autoRemoveListener(i,t),this}},{key:"_autoAddListener",value:function(t,e){if(t&&1==this._listeners[e].length){switch(e){case C.START:case C.MOVE:case C.END:t.addEventListener(e,this._on.touch);break;case"click":t.addEventListener(e,this._on.bubble)}e==C.MOVE&&t.addEventListener(C.START,this._on.touchStart)}}},{key:"_autoRemoveListener",value:function(t,e){if(t&&(!this._listeners[e]||0==this._listeners[e].length)){switch(e){case C.START:case C.MOVE:case C.END:t.removeEventListener(e,this._on.touch);break;case"click":t.removeEventListener(e,this._on.bubble)}e==C.MOVE&&t.removeEventListener(C.START,this._on.touchStart)}}}]),e}(b),P=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this))).fps=30,t._defineFunctions(),t}return f()(e,t),s()(e,[{key:"_defineFunctions",value:function(){for(var t=this,e=["ms","moz","webkit","o"],n=e.length;--n>-1&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];this._tickHandler=function(){t._requestId=window.requestAnimationFrame(t._tickHandler),t._lastMs=t.time;var e=t._lastMs-t._nextMs;if(e>=0){var n=t._nextMs;t._nextMs+=e+(e>=t._gap?1:t._gap-e),t.dispatch("tick",{type:"tick",time:t._lastMs-t._startMs,dt:t._nextMs-n})}}}},{key:"start",value:function(){this._startMs=this.time,this._nextMs=this._startMs+this._gap,this._requestId=window.requestAnimationFrame(this._tickHandler)}},{key:"stop",value:function(){window.cancelAnimationFrame(this._requestId)}},{key:"fps",get:function(){return this._fps},set:function(t){this._fps=t,this._gap=1/(t||60)*1e3}},{key:"time",get:function(){return Date.now()||(new Date).getTime()}}]),e}(b),R=new(function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this))).ticker=new P,t.set({target:window}),t}return f()(e,t),s()(e,[{key:"ready",value:function(){return new Promise(function(t,e){var n=function e(){document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),t()};"complete"===document.readyState?t():(document.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n))})}},{key:"_autoAddListener",value:function(t,n){if(t&&(k()(c()(e.prototype),"_autoAddListener",this).call(this,t,n),1==this._listeners[n].length))switch(n){case"tick":this.ticker.on(n,this._on.bubble),this.ticker.start();break;case"resize":t.addEventListener(n,this._on.bubble)}}},{key:"_autoRemoveListener",value:function(t,n){if(t&&(k()(c()(e.prototype),"_autoRemoveListener",this).call(this,t,n),!this._listeners[n]||0==this._listeners[n].length))switch(n){case"tick":this.ticker.off(n,this._on.bubble),this.ticker.stop();break;case"resize":t.removeEventListener(n,this._on.bubble)}}},{key:"width",get:function(){return window.innerWidth||document.documentElement.clientWidth||0}},{key:"height",get:function(){return window.innerHeight||document.documentElement.clientHeight||0}}]),e}(D)),M=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this)))._defineHandlers(),t}return f()(e,t),s()(e,[{key:"_defineHandlers",value:function(){var t=this;this._onResize=function(e){t._width==t.width&&t._height==t.height||(t._width=t.width,t._height=t.height,t.dispatch("resize",{type:"resize",width:t._width,height:t._height}))}}},{key:"setup",value:function(t){this.container=document.querySelector(t),this.container.classList.add("xslider-container"),this.view=this.container.querySelector(".xslider-view"),this.slides=this.view.querySelectorAll(".xslider-slide"),this.pager=this.container.querySelector(".xslider-pager"),this.prev=this.container.querySelector(".xslider-prev"),this.next=this.container.querySelector(".xslider-next"),R.on("resize",this._onResize)}},{key:"dispose",value:function(){this._width=this._height=void 0,R.off("resize",this._onResize),this.container.classList.remove("xslider-container","xslider-debug")}},{key:"width",get:function(){return this.container.clientWidth}},{key:"height",get:function(){return this.container.clientHeight}}]),e}(b),O=new(function(){function t(){r()(this,t);var e="application/font-woff";this.mimes={woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}return s()(t,[{key:"loadImage",value:function(t,e){return new Promise(function(n,i){t.src=e,function e(){t.complete?n():setTimeout(e,10)}()})}},{key:"get",value:function(t,e){return new Promise(function(n,i){var r=new XMLHttpRequest;r.onreadystatechange=function(){switch(r.readyState){case 4:200==r.status||304==r.status?n(r.response):i()}},r.ontimeout=function(){i()},r.responseType=e,r.timeout=3e4,r.open("GET",t,!0),r.send(null)})}},{key:"getDataURI",value:function(t){var e=this,n=this.parseExtension(t);return this.get(t,"blob").then(function(t){return e.readBlob.bind(e)(t,n)})}},{key:"parseExtension",value:function(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:null}},{key:"getMimeType",value:function(t){}},{key:"readBlob",value:function(t,e){var n=new FileReader,i=e?this.mimes[e]:null;return new Promise(function(e,r){n.onloadend=function(){var t=n.result;i&&(t=t.split(",")[1],t="data:"+i+";base64,"+t),e(t)},n.readAsDataURL(t)})}}]),t}()),A=new(function(){function t(){r()(this,t)}return s()(t,[{key:"copyStyle",value:function(t,e,n){var i={};if(n&&n.length>0)for(var r=0;r<n.length;r++){var o=n[r];i[o]=e.getPropertyValue(o)}if(t.cssText)e.cssText=t.cssText;else for(var s=0;s<t.length;s++){var a=t[s];e.setProperty(a,t.getPropertyValue(a),t.getPropertyPriority(a))}Object.getOwnPropertyNames(i).forEach(function(t){e.setProperty(t,i[t])})}},{key:"cloneNode",value:function(t){var e=this,n=t.cloneNode(!1);return new Promise(function(i,r){if(t instanceof Element)if(e.copyStyle(window.getComputedStyle(t),n.style),t.hasChildNodes()){var o=t.childNodes,s=[];o.forEach(function(t,i,r){var o=e.cloneNode(t).then(function(t){e.insertChildAtIndex(n,t,i)});s.push(o)}),Promise.all(s).then(function(){i(n)})}else i(n);else i(n)})}},{key:"insertChildAtIndex",value:function(t,e,n){n||(n=0),n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n])}},{key:"cloneStyle",value:function(t,e,n){var i=this;return t instanceof Element?(this.copyStyle(window.getComputedStyle(t),e.style,n),t.hasChildNodes()?void t.childNodes.forEach(function(t,r,o){i.cloneStyle(t,e.childNodes[r],n)}):e):e}}]),t}()),I={URL_REGEX:/url\(['"]?([^'"]+?)['"]?\)/g,resolveFonts:function(){var t=this;return new Promise(function(e,n){if(t.inlinedFontString)e();else{var i=t.readFontRules().map(function(t){return t.cssText});t.inlineFonts(i).then(function(n){t.inlinedFontString=n.join(" "),e()})}})},readFontRules:function(){for(var t=[],e=document.styleSheets,n=0;n<e.length;n++){var i=e[n];if(i.cssRules)for(var r=0;r<i.cssRules.length;r++){var o=i.cssRules[r];o.type===CSSRule.FONT_FACE_RULE&&t.push(o)}}return t},inlineFonts:function(t){var e=this,n=t.map(function(t){return e._inline(t)});return Promise.all(n)},inlineNode:function(t){return A.cloneNode(t).then(this.inlineImage.bind(this))},_inline:function(t){var e=this.searchUrls(t),n=[];return e.map(function(e){var i=O.getDataURI(e).then(function(n){t=t.replace(e,n)});n.push(i)}),Promise.all(n).then(function(){return t})},searchUrls:function(t){for(var e,n=this,i=[];null!==(e=this.URL_REGEX.exec(t));)i.push(e[1]);return i.filter(function(t){return n.isDataURI(t)})},inlineImage:function(t){var e=this;return new Promise(function(n,i){Promise.resolve(t).then(e.inlineImageElement.bind(e)).then(e.inlineBackgroundImage.bind(e)).then(function(){if(t.hasChildNodes()){var i=t.childNodes,r=[];i.forEach(function(t,n,i){var o=e.inlineImage(t);r.push(o)}),Promise.all(r).then(function(){n(t)})}else n(t)})})},inlineImageElement:function(t){return t instanceof HTMLImageElement?this.isDataURI(t.src)?t:new Promise(function(e,n){O.getDataURI(t.src).then(function(i){t.onload=function(){e(t)},t.onerror=n,t.src=i})}):t},inlineBackgroundImage:function(t){if(!(t instanceof Element))return t;var e=t.style.getPropertyValue("background");return e?this._inline(e).then(function(e){return t.style.setProperty("background",e),t}):t},isDataURI:function(t){return-1===t.search(/^(data:)/)}},U={parser:new DOMParser,convert:function(t,e,n){t.setAttribute("xmlns","http://www.w3.org/1999/xhtml");var i='<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+n+'">\n\t\t<foreignObject x="0" y="0" width="100%" height="100%">\n\t\t</foreignObject>\n\t\t</svg>',r=this.parser.parseFromString(i,"text/xml"),o=document.createElement("style");return o.appendChild(document.createTextNode(I.inlinedFontString)),t.appendChild(o),r.getElementsByTagName("foreignObject")[0].appendChild(t),r}},N=function(){function t(e,n){r()(this,t),this.element=e,this.debug=n,this.canvas=document.createElement("canvas"),this.image=new Image,this.layer={gl:e.querySelector(".xslider-layer-gl"),ui:e.querySelector(".xslider-layer-ui")},this.debug==_.Debug.DISPLAY.IMG&&this.element.insertBefore(this.image,this.layer.gl),this.inlinedNode=void 0,this.needsResize=!1}return s()(t,[{key:"dispose",value:function(){this.layer.gl&&this.layer.gl.classList.remove("xslider-capture")}},{key:"ready",value:function(){var t=this;return new Promise(function(e,n){t.inlinedNode?e():t.layer.gl?I.inlineNode(t.layer.gl).then(function(n){t.inlinedNode=n,e()}):e()})}},{key:"loadSvg",value:function(t,e){this.svg=U.convert(this.inlinedNode,t,e);var n=(new XMLSerializer).serializeToString(this.svg),i="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(n);if(this.debug==_.Debug.DISPLAY.SVG)if(void 0===this._svg0)this._svg0=this.element.insertBefore(this.svg.childNodes[0],this.layer.gl);else{var r=this.svg.childNodes[0];this.element.replaceChild(r,this._svg0),this._svg0=r}return O.loadImage(this.image,i)}},{key:"resize",value:function(e,n){var i=this;return new Promise(function(r,o){i.needsResize?(i.needsResize=!1,i.canvas.width=e,i.canvas.height=n,i.layer.gl?(i.layer.gl.classList.add("xslider-capture"),A.cloneStyle(i.layer.gl,i.inlinedNode,t.EXCLUDES),i.layer.gl.classList.remove("xslider-capture"),i.loadSvg(e,n).then(function(){var t=i.canvas.getContext("2d");t.clearRect(0,0,e,n),t.drawImage(i.image,0,0,e,n),r()})):r()):r()})}}]),t}();N.EXCLUDES=["background","left","right","width","height"];var z=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this)))._defineHandlers(),t.width=t.height=-1,t}return f()(e,t),s()(e,[{key:"_defineHandlers",value:function(){var t=this;this._onChangeSlide=function(e){var n=!1;switch(e.type){case"slide0":t.updateSlide(0),n=void 0!==e.value0;break;case"slide1":t.updateSlide(1),n=void 0!==e.value0&&e.value0!==t.get("slide0")}n&&e.value0.element.classList.remove("xslider-slide-active")}}},{key:"ready",value:function(t){var e=this,n=t.data.list[t.i0],i=void 0,r=[n.ready()];return void 0!==t.i1&&(i=t.data.list[t.i1],r.push(i.ready())),Promise.all(r).then(function(){e.set({slide0:n,slide1:i})})}},{key:"setup",value:function(t){this.mesh=t,this.mesh&&(this.uniforms=this.mesh.material.uniforms),this.on("slide0",this._onChangeSlide),this.on("slide1",this._onChangeSlide)}},{key:"dispose",value:function(){this.off("slide0",this._onChangeSlide),this.off("slide1",this._onChangeSlide);var t=this.get("slide0"),e=this.get("slide1");t.element.classList.remove("xslider-slide-active"),e&&e.element.classList.remove("xslider-slide-active")}},{key:"resize",value:function(t,e){return this.width=t,this.height=e,this.mesh&&this.uniforms.resolution.value.set(t,e),Promise.all([this.updateSlide(0),this.updateSlide(1)])}},{key:"updateSlide",value:function(t){var e=this;if(-1!=this.width||-1!=this.height){var n=this.get("slide"+t);return new Promise(function(i,r){if(!n){if(e.uniforms){var o=e.uniforms["texture"+t].value;o.image=void 0,o.needsUpdate=!0}i()}n.element.classList.add("xslider-slide-active"),n.resize(e.width,e.height).then(function(){if(e.uniforms){var r=e.uniforms["texture"+t].value;r.image=n.canvas,r.needsUpdate=!0}i()})})}}}]),e}(b),F=function(t){function e(){return r()(this,e),u()(this,c()(e).call(this))}return f()(e,t),s()(e,[{key:"setup",value:function(t,e){this.data=t,this.container=e}},{key:"dispose",value:function(){}},{key:"render",value:function(t){}},{key:"resize",value:function(t,e){this.width=t,this.height=e}}]),e}(b),L=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this))).canvas=document.createElement("canvas"),t._defineHandlers(),t}return f()(e,t),s()(e,[{key:"_defineHandlers",value:function(){}},{key:"setup",value:function(t,n){k()(c()(e.prototype),"setup",this).call(this,t,n),t.dom.container.insertBefore(this.canvas,t.dom.view)}},{key:"dispose",value:function(){k()(c()(e.prototype),"dispose",this).call(this),this.container.off("updateTexture",this._onUpdateTexture),this.data.dom.container.removeChild(this.canvas)}},{key:"render",value:function(t){k()(c()(e.prototype),"render",this).call(this,t),this.container.uniforms.progress.value=t.progress,this.container.uniforms.time&&(this.container.uniforms.time.value=this.data.time)}},{key:"resize",value:function(t,n){k()(c()(e.prototype),"resize",this).call(this,t,n)}}]),e}(F),V=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this)))._defineHandlers(),t}return f()(e,t),s()(e,[{key:"_defineHandlers",value:function(){var t=this;this.dx=0,this._onTick=function(e){console.log("e: ",e),t.dx=30*Math.sin(e.time/1e3);var n=t.data.list[0];n&&(n.layer.ui.style.webkitTransform="translate("+t.dx+"px, 0)")}}},{key:"setup",value:function(t,n){k()(c()(e.prototype),"setup",this).call(this,t,n)}},{key:"dispose",value:function(){k()(c()(e.prototype),"dispose",this).call(this)}},{key:"render",value:function(t){k()(c()(e.prototype),"render",this).call(this,t);var n=this.data.list[t.i0],i=this.data.list[t.i1],r=1-p.clamp(t.progress,0,.5)/.5,o=-t.progress*this.width;this.updateSlide(n,r,o),n!=i&&(r=p.clamp(t.progress-.5,0,.5)/.5,o=(1-t.progress)*this.width,this.updateSlide(i,r,o))}},{key:"resize",value:function(t,n){k()(c()(e.prototype),"resize",this).call(this,t,n)}},{key:"updateSlide",value:function(t,e,n){t&&t.layer.ui&&(t.layer.ui.style.webkitTransform="translate("+n+"px, 0) scale(1)")}}]),e}(F),B=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this))).needsUpdate=!0,t.location=void 0,t}return f()(e,t),e}(b),j={Byte:"BYTE",UnsignedByte:"UNSIGNED_BYTE",Short:"SHORT",UnsignedShort:"UNSIGNED_SHORT",Int:"INT",UnsignedInt:"UNSIGNED_INT",Float:"FLOAT"},X=function(t,e){switch(t){case j.Byte:return new Int8Array(e);case j.UnsignedByte:return new Uint8Array(e);case j.Short:return new Int16Array(e);case j.UnsignedShort:return new Uint16Array(e);case j.Int:return new Int32Array(e);case j.UnsignedInt:return new Uint32Array(e);case j.Float:return new Float32Array(e)}},H=function(t){function e(t,n,i){var o;return r()(this,e),(o=u()(this,c()(e).call(this))).format=t,o.bufferType=n,o.usage=i,o.data=X(o.format,1),o}return f()(e,t),s()(e,[{key:"clear",value:function(){this.position=0,this.limit=0,this.needsUpdate=!0}},{key:"allocate",value:function(t){this.data.length<t&&this.extend(t),this.clear()}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.data.subarray(t,e)}},{key:"put",value:function(t){t instanceof Array||t instanceof Float32Array?(this.data.set(t,this.position),this.position+=t.length):(this.data[this.position]=t,this.position+=1),this.limit=this.position,this.needsUpdate=!0}},{key:"update",value:function(t,e){t instanceof Array||t instanceof Float32Array?this.data.set(t,e):this.data[e]=t,this.needsUpdate=!0}},{key:"extend",value:function(t){for(var e=this.data,n=e.length;n<t;)n*=2;this.data=X(this.format,n),this.data.set(e)}}]),e}(B);H.Usage={Static:"STATIC_DRAW",Dynamic:"DYNAMIC_DRAW",Stream:"STREAM_DRAW"},H.Type={Interleaved:"Interleaved",Index:"Index"};var G=function(t){function e(t){var n;return r()(this,e),(n=u()(this,c()(e).call(this,j.UnsignedShort,H.Type.Index,H.Usage.Static))).drawMode=t,n}return f()(e,t),e}(H);G.DrawMode={Triangles:"TRIANGLES"};var q=function(t){function e(t){var n;return r()(this,e),(n=u()(this,c()(e).call(this))).image=void 0,t&&n.setup(t),n}return f()(e,t),s()(e,[{key:"setup",value:function(t){var e=this;return this.image||(this.image=new Image),new Promise(function(n,i){e.image.src!=t?(e.needsUpdate=!1,e.image.src=t,e.image.onload=function(){e.needsUpdate=!0,n()}):n()})}}]),e}(B),Y=function(){function t(){r()(this,t),this.identity()}return s()(t,[{key:"identity",value:function(){this.data=[1,0,0,0,1,0,0,0,1]}},{key:"copy",value:function(t){for(var e=0;e<this.data.length;e++)t.data[e]=this.data.length}},{key:"translate",value:function(){}},{key:"rotate",value:function(){}},{key:"update",value:function(t,e,n,i,r){var o=Math.sin(n),s=Math.cos(n),a=this.data;a[0]=s*i,a[1]=o*i,a[3]=-o*r,a[4]=s*r,a[6]=t,a[7]=e}}]),t}(),W=function(){function t(){r()(this,t),this.identity()}return s()(t,[{key:"identity",value:function(){this.data=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"copy",value:function(t){for(var e=0;e<this.data.length;e++)t.data[e]=this.data.length}},{key:"perspective",value:function(t,e,n,i){var r=2*n;t=t*Math.PI/180;var o=1/(n-i),s=Math.tan(t/2)*n,a=-s,u=e*a,l=-u,c=this.data;c[0]=r/(l-u),c[5]=r/(s-a),c[10]=(i+n)*o,c[11]=-1,c[14]=r*i*o,c[15]=0}},{key:"update",value:function(t,e,n,i,r,o,s,a,u){var l=Math.sin(i),c=Math.cos(i),h=Math.sin(r),f=Math.cos(r),d=Math.sin(o),v=Math.cos(o),p=h*l,g=h*c,m=this.data;m[0]=v*f*s,m[1]=d*f*s,m[2]=-h*s,m[4]=(v*p-d*c)*a,m[5]=(d*p+v*c)*a,m[6]=f*l*a,m[8]=(v*g+d*l)*u,m[9]=(d*g-v*l)*u,m[10]=f*c*u,m[12]=t,m[13]=e,m[14]=n}}]),t}(),K={Int:"Int",Float:"Float",Vector2:"Vector2",Vector3:"Vector3",Vector4:"Vector4",Matrix3:"Matrix3",Matrix4:"Matrix4"},Q=function(t){switch(t){case K.Int:case K.Float:return 1;case K.Vector2:return 2;case K.Vector3:return 3;case K.Vector4:return 4;case K.Matrix3:return 9;case K.Matrix4:return 16;default:return 0}},Z=function(t){function e(t,n,i){var o;return r()(this,e),(o=u()(this,c()(e).call(this))).name=t,o.format=n,o.shaderVarFormat=i,o.offset=0,o.size=Q(i),o}return f()(e,t),e}(B),$=function(t){function e(t,n){var i,o,s,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(r()(this,e),n)switch(o=j.Float,n.value.constructor){case q:o=j.Int,s=K.Int;break;case Y:s=K.Matrix3;break;case W:s=K.Matrix4;break;case g:s=K.Vector2;break;case m:s=K.Vector3;break;case x:s=K.Vector4;break;default:s=K.Float}return(i=u()(this,c()(e).call(this,t,o,s))).valueObject=n,i.textureUnit=a,i}return f()(e,t),e}(Z);$.Binding={Projection:"projectionMatrix",ModelView:"modelViewMatrix"};var J=function(t){function e(t){var n;return r()(this,e),(n=u()(this,c()(e).call(this))).type=t,n}return f()(e,t),s()(e,[{key:"updateSource",value:function(t){this.source=t}}]),e}(B);J.VERTEX="VERTEX_SHADER",J.FRAGMENT="FRAGMENT_SHADER";var tt=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this))).vertex=new J(J.VERTEX),t.fragment=new J(J.FRAGMENT),t.attributes=[],t.uniforms=[],t.stride=0,t}return f()(e,t),s()(e,[{key:"addAttribute",value:function(t){this.attributes.push(t),this.needsUpdate=!0}},{key:"addUniform",value:function(t){this.uniforms.push(t),this.needsUpdate=!0}},{key:"update",value:function(){this.stride=0;for(var t=0;t<this.attributes.length;t++){var e=this.attributes[t];e.offset=this.stride,this.stride+=4*e.size}}}]),e}(B),et={bound:{sceneContext:void 0,program:void 0,viewport:new x},test:{depth:!1,stensil:!1},reset:function(){this.bound={sceneContext:void 0,program:void 0,viewport:new x},this.test={depth:!1,stensil:!1}}},nt={setup:function(t){var e={alpha:!0,premultipliedAlpha:!1};this._gl=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),this.context?this.context.reset():this.context=et},updateTexture:function(t,e){var n=this._gl;t.location||(t.location=n.createTexture()),n.activeTexture(n["TEXTURE"+e]),n.bindTexture(n.TEXTURE_2D,t.location),t.needsUpdate&&(t.needsUpdate=!1,n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),t.image?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t.image):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([0,0,0,0])))},deleteTexture:function(t){t.location&&(this._gl.deleteTexture(t.location),t.location=void 0)},updateProgram:function(t){var e=this._gl;if(!t.location&&(t.location=e.createProgram(),this.updateShader(t.vertex),e.attachShader(t.location,t.vertex.location),this.updateShader(t.fragment),e.attachShader(t.location,t.fragment.location),e.linkProgram(t.location),this.deleteShader(t.vertex),this.deleteShader(t.fragment),!e.getProgramParameter(t.location,e.LINK_STATUS)))throw new Error("Could not initialise shaders");e.useProgram(t.location),this.context.bound.program=t,t.needsUpdate&&(t.update(),t.needsUpdate=!1);for(var n=0;n<t.attributes.length;n++)this.updateAttribute(t.attributes[n],t.stride);for(var i=0;i<t.uniforms.length;i++)this.updateUniform(t.uniformBuffer,t.uniforms[i])},deleteProgram:function(t){var e=this._gl;t.location&&e.deleteProgram(t.location)},updateShader:function(t){var e=this._gl;if(t.location||(t.location=e.createShader(e[t.type])),e.shaderSource(t.location,t.source),e.compileShader(t.location),!e.getShaderParameter(t.location,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(t.location))},deleteShader:function(t){var e=this._gl;t.location&&(e.deleteShader(t.location),t.location=void 0)},updateAttribute:function(t,e){var n=this._gl,i=t;if(!i.location){if(i.location=n.getAttribLocation(this.context.bound.program.location,i.name),i.location<0)throw new Error("attribute "+i.name+" undefined.");n.enableVertexAttribArray(i.location)}n.vertexAttribPointer(i.location,i.size,n[i.format],n.FALSE,e,i.offset)},updateUniform:function(t,e){var n=this._gl;switch(e.location||(e.location=n.getUniformLocation(this.context.bound.program.location,e.name)),e.name){case $.Binding.ModelView:n.uniformMatrix4fv(e.location,!1,bound.model.matrix.local.data);break;case $.Binding.Projection:n.uniformMatrix4fv(e.location,!1,bound.camera.matrix.projection.data);break;default:if(e.valueObject.value instanceof q)this.updateTexture(e.valueObject.value,e.textureUnit),n.uniform1i(e.location,e.textureUnit);else switch(e.shaderVarFormat){case K.Int:n.uniform1i(e.location,e.valueObject.value);break;case K.Float:n.uniform1f(e.location,e.valueObject.value);break;case K.Vector2:n.uniform2fv(e.location,e.valueObject.value.data);break;case K.Vector3:n.uniform3fv(e.location,e.valueObject.value.data);break;case K.Vector4:n.uniform4fv(e.location,e.valueObject.value.data);break;case K.Matrix3:n.uniformMatrix3fv(e.location,e.valueObject.value.data);break;case K.Matrix4:n.uniformMatrix4fv(e.location,e.valueObject.value.data)}}},updateBuffer:function(t){var e,n=this._gl;t.location||(t.location=n.createBuffer()),e=t.bufferType!==H.Type.Index?n.ARRAY_BUFFER:n.ELEMENT_ARRAY_BUFFER,n.bindBuffer(e,t.location),t.needsUpdate&&(n.bufferData(e,t.data,n[t.usage]),t.needsUpdate=!1)},updateSceneContext:function(t){if(this.context.bound.sceneContext!==t){var e=this._gl;this.context.test.depth!=t.test.depth&&(t.test.depth?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.context.test.depth=t.test.depth),this.context.test.stencil!=t.test.stencil&&(t.test.stencil?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.context.test.stencil=t.test.stencil),this.context.bound.sceneContext=t}},updateCamera:function(t){this.context.bound.camera=t;var e=t.viewport;this.context.bound.viewport.equals(e)||(this.context.bound.viewport.set(e.x,e.y,e.z,e.w),this._gl.viewport(e.x,e.y,e.width,e.height))},clear:function(t){var e=this._gl,n=t,i=0;n.clear.color&&(e.clearColor(n.color.r,n.color.g,n.color.b,n.color.a),i|=e.COLOR_BUFFER_BIT),n.clear.depth&&(i|=e.DEPTH_BUFFER_BIT),n.clear.stencil&&(i|=e.STENCIL_BUFFER_BIT),e.clear(i)},renderModel:function(t){this.context.bound.model=t,t.scene&&this.updateSceneContext(t.scene.context),this.updateCamera(t.scene.camera),this.renderMesh(t.mesh)},renderMesh:function(t,e){var n=this._gl;this.updateBuffer(t.vertexBuffer),this.updateProgram(t.material.program);var i=t.indexBuffer;this.updateBuffer(i),n.drawElements(n[i.drawMode],i.limit,n[i.format],0)}},it=function(){function t(){r()(this,t),this.r=0,this.g=0,this.b=0,this.a=1}return s()(t,[{key:"set",value:function(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a=i}}]),t}(),rt=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this))).vertexBuffer=new H(j.Float,H.Type.Interleaved,H.Usage.Static),t.indexBuffer=new G(G.DrawMode.Triangles),t}return f()(e,t),e}(b),ot=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this))).children=[],t.matrix={},t}return f()(e,t),s()(e,[{key:"addChild",value:function(t){this.children.push(t),t.parent=this}},{key:"removeChild",value:function(t){t.parent=void 0;var e=this.children.indexOf(t);e>-1&&this.children.splice(e,1)}}]),e}(b),st=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this))).mesh=new rt,t}return f()(e,t),e}(ot),at=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this))).viewport=new x,t}return f()(e,t),s()(e,[{key:"setViewport",value:function(t,e,n,i){this.viewport.set(t,e,n,i)}}]),e}(ot),ut=function t(){r()(this,t),this.clear={color:!0,depth:!1,stencil:!1},this.test={depth:!1,stencil:!1},this.color=new it},lt=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this))).context=new ut,t.camera=new at,t}return f()(e,t),s()(e,[{key:"addChild",value:function(t){t.parent&&t.parent.removeChild(t),k()(c()(e.prototype),"addChild",this).call(this,t),t.scene=this}},{key:"removeChild",value:function(t){k()(c()(e.prototype),"removeChild",this).call(this,t),t.scene=void 0}}]),e}(ot),ct=function(t){function e(t){var n;return r()(this,e),(n=u()(this,c()(e).call(this,t))).program.addAttribute(new Z("position",j.Float,K.Vector2)),n}return f()(e,t),e}(function t(e){var n=this;if(r()(this,t),this.program=new tt,this.program.vertex.updateSource(e.vertexShader),this.program.fragment.updateSource(e.fragmentShader),this.uniforms=e.uniforms,this.uniforms){var i=-1;Object.keys(this.uniforms).forEach(function(t){var e=n.uniforms[t];e.value instanceof q?n.program.addUniform(new $(t,e,++i)):n.program.addUniform(new $(t,e))})}}),ht=function(t){function e(){var t;r()(this,e);var n=[-1,-1,1,-1,1,1,-1,1];(t=u()(this,c()(e).call(this))).mesh.vertexBuffer.allocate(n.length),t.mesh.vertexBuffer.put(n);var i=[0,1,2,0,2,3];return t.mesh.indexBuffer.allocate(i.length),t.mesh.indexBuffer.put(i),t}return f()(e,t),s()(e,[{key:"material",set:function(t){this.mesh.material=t}}]),e}(st),ft=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this))).scene=new lt,t.model=new ht,t.mesh=t.model.mesh,t.scene.addChild(t.model),t._uniform0={texture0:{value:new q},texture1:{value:new q},progress:{value:0},resolution:{value:new g(0,0)}},t}return f()(e,t),s()(e,[{key:"setup",value:function(t,n){k()(c()(e.prototype),"setup",this).call(this,t,n),nt.setup(this.canvas);var i=t.option.transition;this.mesh.material=new ct({vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,uniforms:p.extend(i.uniforms,this._uniform0)})}},{key:"dispose",value:function(){k()(c()(e.prototype),"dispose",this).call(this),nt.deleteProgram(this.mesh.material.program),this.mesh.material=void 0}},{key:"render",value:function(t){k()(c()(e.prototype),"render",this).call(this,t),nt.clear(this.scene.context),nt.renderModel(this.model)}},{key:"resize",value:function(t,n){k()(c()(e.prototype),"resize",this).call(this,t,n),this.canvas.setAttribute("width",t),this.canvas.setAttribute("height",n),this.scene.camera.setViewport(0,0,t,n)}}]),e}(L),dt=function(){function t(){r()(this,t),this.dom=new M,this.time=0}return s()(t,[{key:"setup",value:function(){this.option=p.extend(_,(arguments.length<=1?void 0:arguments[1])||{}),this.dom.setup(arguments.length<=0?void 0:arguments[0]),this.option.debug==_.Debug.DISPLAY.DOM&&this.dom.container.classList.add("xslider-debug"),this.list=[];var t=!0,e=!1,n=void 0;try{for(var i,r=this.dom.slides[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;this.list.push(new N(o,this.option.debug))}}catch(t){e=!0,n=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw n}}}},{key:"dispose",value:function(){if(this.option){var t=!0,e=!1,n=void 0;try{for(var i,r=this.list[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){i.value.dispose()}}catch(t){e=!0,n=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw n}}this.dom.dispose(),this.option=void 0}}},{key:"getRenderer",value:function(){return this.option.debug?new V:this.option.renderer||new ft}}]),t}(),vt=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this)))._defineHandlers(),t}return f()(e,t),s()(e,[{key:"_defineHandlers",value:function(){var t=this;this._on={tick:function(n){n.time>t.option.delay&&t.dispatch(e.EVENT.TICK)}}}},{key:"setup",value:function(t){this.option=t}},{key:"start",value:function(){this.enabled&&R.on("tick",this._on.tick)}},{key:"stop",value:function(){this.enabled&&R.off("tick",this._on.tick)}},{key:"enabled",get:function(){return null!=this.option}}]),e}(b);vt.EVENT={TICK:"autoplay_tick"};var pt=function(t){function e(){return r()(this,e),u()(this,c()(e).call(this))}return f()(e,t),s()(e,[{key:"setup",value:function(t){this.data=t,this._target=t.option.initialSlideIndex,this._v=this._target-1,this._length=t.dom.slides.length,this._state=e.STATE.DEFAULT,this.progress=0,this.set({head:void 0,tail:void 0}),!this.data.option.loop&&(this._target=this.constrain(this._target)),this.tick()}},{key:"prev",value:function(){this._target--,!this.data.option.loop&&(this._target=this.constrain(this._target))}},{key:"next",value:function(){this._target++,!this.data.option.loop&&(this._target=this.constrain(this._target))}},{key:"to",value:function(t){if(this.data.option.loop){var e,n,i=t-this.current;n=i>0?i>-(e=i-this._length)?e:i:-i>(e=i+this._length)?e:i,this._target+=n}else this._target=t}},{key:"down",value:function(){this._state=e.STATE.DOWN,this._move=0}},{key:"move",value:function(t){this._v+=t,this._move=t,!this.data.option.loop&&(this._v=this.constrain(this._v)),this._target=this._v}},{key:"up",value:function(){this._state=e.STATE.UP,!this.data.option.get("throwable","touchMove")&&(this._move=0)}},{key:"constrain",value:function(t){var e=t<0?0:this._length-1<t?this._length-1:t;return this.set({head:0==e,tail:e==this._length-1}),e}},{key:"tick",value:function(){var t=!1;switch(this._state){case e.STATE.DOWN:break;case e.STATE.UP:this._target+=this._move,!this.data.option.loop&&(this._target=this.constrain(this._target)),this._move*=.95,this._v=this._target,Math.abs(this._move)<.01&&(this._target=Math.round(this._v),this._state=e.STATE.DEFAULT);break;default:!this.data.option.loop&&(this._target=this.constrain(this._target)),this._v+=(this._target-this._v)*this.data.option.easing,Math.abs(this._target-this._v)<.001&&(this._v=this._target,t=!0)}var n=this._v%this._length+this._length;this.progress=n%1,this._i0=Math.floor(n)%this._length;var i=Math.ceil(n)%this._length;this._i1=this._i0!==i?i:void 0,t&&this.dispatch("complete")}},{key:"current",get:function(){var t=this._target%this._length+this._length;return Math.round(t)%this._length}},{key:"i0",get:function(){return this._i0}},{key:"i1",get:function(){return this._i1}}]),e}(b);pt.STATE={DEFAULT:"DEFAULT",DOWN:"DOWN",UP:"UP"};var gt=function(t){function e(){return r()(this,e),u()(this,c()(e).call(this))}return f()(e,t),s()(e,[{key:"setup",value:function(t){this.set({target:t})}},{key:"dispose",value:function(){this.active=!0}},{key:"active",set:function(t){var e=this.get("target");t?e.classList.remove("xslider-disabled"):e.classList.add("xslider-disabled")}}]),e}(D),mt=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this)))._defineHandlers(),t}return f()(e,t),s()(e,[{key:"_defineHandlers",value:function(){var t=this;this._onClick=function(e){var n=t.list.indexOf(e.target);t.set({index:n})},this._onChangeIndex=function(e){void 0!==e.value0&&t.list[e.value0].classList.remove("xslider-active"),t.list[e.value].classList.add("xslider-active")}}},{key:"setup",value:function(t){this.container=t.dom.pager,this.list=[];for(var e=t.dom.slides.length,n=0;n<e;n++){var i=document.createElement("span");this.container.appendChild(i),i.addEventListener("click",this._onClick),this.list.push(i)}this.on("index",this._onChangeIndex),this.set({index:t.option.initialSlideIndex})}},{key:"dispose",value:function(){var t=this;this.off("index",this._onChangeIndex),this.set({index:void 0}),this.list.forEach(function(e){e.removeEventListener("click",t._onClick),t.container.removeChild(e)})}}]),e}(b),xt=function(t){function e(){return r()(this,e),u()(this,c()(e).call(this))}return f()(e,t),s()(e,[{key:"_defineHandlers",value:function(){var t=this;k()(c()(e.prototype),"_defineHandlers",this).call(this),this._onPrev=function(n){n.preventDefault(),t.dispatch(e.EVENT.PREV)},this._onNext=function(n){n.preventDefault(),t.dispatch(e.EVENT.NEXT)}}},{key:"setup",value:function(t){var e=t.dom;this.set({target:e.view}),e.pager&&(this.pager=this.pager||new mt,this.pager.setup(t),this.pager.on("index",this._on.bubble)),e.prev&&(this.prev=this.prev||new gt,this.prev.setup(e.prev),this.prev.on("click",this._onPrev)),e.next&&(this.next=this.next||new gt,this.next.setup(e.next),this.next.on("click",this._onNext))}},{key:"dispose",value:function(){this.pager&&(this.pager.off("index",this._on.bubble),this.pager.dispose()),this.prev&&(this.prev.off("click",this._offPrev),this.prev.dispose()),this.next&&(this.next.off("click",this._onNext),this.next.dispose())}}]),e}(D);xt.EVENT={PREV:"ui_prev",NEXT:"ui_next"};var yt,_t=function(t){function e(){var t;return r()(this,e),(t=u()(this,c()(e).call(this))).indexer=new pt,t.renderer={default:new V,gl:void 0},t.ui=new xt,t.autoplay=new vt,t.container=new z,t._defineHandlers(),t}return f()(e,t),s()(e,[{key:"_defineHandlers",value:function(){var t=this;this._onResize=function(e){var n=t.dom.width,i=t.dom.height;return t.data.list.forEach(function(t){t.needsResize=!0}),t.renderer.default.resize(n,i),t.renderer.gl.resize(n,i),t.container.resize(n,i).then(function(){t.renderer.gl.render(t.indexer)})},this._onCompleteSlide=function(){R.off("tick",t._onTick),t.data.option.get("touchMove")&&t.ui.on(C.START,t._onChange),t.ui.on("index",t._onChange),t.autoplay.start()},this._onTick=function(e){t.data.time=e.time,t.indexer.tick(),t.renderer.default.render(t.indexer),t.container.ready(t.indexer).then(function(){t.renderer.gl.render(t.indexer)},function(t){console.log("reject ::",t)}),t.ui.pager.set({index:t.indexer.current})},this._onChange=function(e){switch(e.type){case xt.EVENT.PREV:t.prev();break;case xt.EVENT.NEXT:case vt.EVENT.TICK:t.next();break;case"index":t.indexer.to(e.value),t.container.ready(t.indexer).then(function(){R.on("tick",t._onTick)},function(t){console.log("on index rejected : ",t)});break;case"head":t.ui.prev&&(t.ui.prev.active=!t.indexer.get("head"));break;case"tail":t.ui.next&&(t.ui.next.active=!t.indexer.get("tail"));break;case C.START:R.on(C.MOVE,t._onChange),R.on(C.END,t._onChange),t.ui.off("index",t._onChange),t.indexer.down(),t.autoplay.stop(),R.on("tick",t._onTick);break;case C.MOVE:var n=(e.clientX-e.clientX0)/t.dom.width;t.indexer.move(-n);break;case C.END:R.off(C.MOVE,t._onChange),R.off(C.END,t._onChange),t.indexer.up()}}}},{key:"setup",value:function(t,e){var n=this;this.renderer.gl=t,this.data=e,this.dom=e.dom,this.renderer.default.setup(this.data),this.renderer.gl=this.data.getRenderer(),this.renderer.gl.setup(this.data,this.container),this.container.setup(this.renderer.gl.mesh),this.ui.setup(this.data),this.indexer.setup(this.data),this.indexer.on("complete",this._onCompleteSlide),this.data.option.loop||(this.indexer.on("head",this._onChange),this.indexer.on("tail",this._onChange)),this.autoplay.on(vt.EVENT.TICK,this._onChange),this.autoplay.setup(this.data.option.autoplay),this.dom.on("resize",this._onResize),I.resolveFonts().then(function(){return n.container.ready(n.indexer)}).then(this._onResize).then(function(){n.ui.on("index",n._onChange),n.ui.on(xt.EVENT.PREV,n._onChange),n.ui.on(xt.EVENT.NEXT,n._onChange),n.data.option.get("touchMove")&&n.ui.on(C.START,n._onChange),n.autoplay.start(),R.on("tick",n._onTick)},function(t){console.log("first ready rejected : ",t)})}},{key:"prev",value:function(){this.data.option.get("touchMove")&&this.ui.off(C.START,this._onChange),this.autoplay.stop(),this.indexer.prev(),this.ui.pager.set({index:this.indexer.current})}},{key:"next",value:function(){this.data.option.get("touchMove")&&this.ui.off(C.START,this._onChange),this.autoplay.stop(),this.indexer.next(),this.ui.pager.set({index:this.indexer.current})}},{key:"dispose",value:function(){this.data&&(R.off("tick",this._onTick),R.off(C.MOVE,this._onChange),R.off(C.END,this._onChange),this.ui.off("index",this._onChange),this.ui.off(xt.EVENT.PREV,this._onChange),this.ui.off(xt.EVENT.NEXT,this._onChange),this.data.option.get("touchMove")&&this.ui.off(C.START,this._onChange),this.ui.dispose(),this.dom.off("resize",this._onResize),this.indexer.off("complete",this._onCompleteSlide),this.data.option.loop||(this.indexer.off("head",this._onChange),this.indexer.off("tail",this._onChange)),this.renderer.gl.dispose(),this.renderer.default.dispose(),this.container.dispose(),this.data=void 0)}}]),e}(b),bt=function(t){function e(){var t,n;return r()(this,e),(n=u()(this,c()(e).call(this))).data=new dt,n.controller=new _t,p.delegate(v()(v()(n)),{prev:n.controller.prev,next:n.controller.next,autoplay:{start:n.controller.autoplay.start,stop:n.controller.autoplay.stop}}),(t=n).setup.apply(t,arguments),n}return f()(e,t),s()(e,[{key:"setup",value:function(){var t;this.dispose(),(t=this.data).setup.apply(t,arguments),this.controller.setup(this.renderer,this.data)}},{key:"dispose",value:function(){this.controller.dispose(),this.data.dispose()}}]),e}(b),wt=y.extend({fragmentShader:"\nprecision highp float;\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\nuniform vec2 gradient;\n\nvoid main(void) {\n\tvec2 p = gl_FragCoord.xy /resolution.xy;\n\n\tfloat v = mix(0.0, 1.0, progress * (1.0+gradient.x+gradient.y) - ((1.0-p.x)*gradient.x+p.y*gradient.y));\n\tv = clamp(v, 0.0, 1.0);\n\n\tvec2 p0 = p;\n\tvec2 p1 = p;\n\n\tp0 -= 0.5;\n\tp0 *= (1.0 - v);\n\tp0 += 0.5;\n\n\tp1 -= 0.5;\n\tp1 *= v;\n\tp1 += 0.5;\n\n\tvec4 color0 = texture2D(texture0, p0);\n\tvec4 color1 = texture2D(texture1, p1);\n\n\tgl_FragColor = mix(color0, color1, v);\n}\n",uniforms:{gradient:{value:new g(.5,.5)}}}),kt=y.extend({fragmentShader:"\nprecision highp float;\n\n#define PI 3.141592653589793\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\n// uniform vec2 fade;\nuniform float strength;\n\n\nfloat Linear_ease(in float begin, in float change, in float duration, in float time) {\n    return change * time / duration + begin;\n}\n\nfloat Exponential_easeInOut(in float begin, in float change, in float duration, in float time) {\n    if (time == 0.0)\n        return begin;\n    else if (time == duration)\n        return begin + change;\n    time = time / (duration / 2.0);\n    if (time < 1.0)\n        return change / 2.0 * pow(2.0, 10.0 * (time - 1.0)) + begin;\n    return change / 2.0 * (-pow(2.0, -10.0 * (time - 1.0)) + 2.0) + begin;\n}\n\nfloat Sinusoidal_easeInOut(in float begin, in float change, in float duration, in float time) {\n    return -change / 2.0 * (cos(PI * time / duration) - 1.0) + begin;\n}\n\n/* random number between 0 and 1 */\nfloat hash(in vec3 scale, in float seed) {\n    /* use the fragment position for randomness */\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvec3 crossFade(in vec2 uv, in float dissolve) {\n    return mix(texture2D(texture0, uv).rgb, texture2D(texture1, uv).rgb, dissolve);\n}\n\nvoid main(void) {\n\tvec2 p = gl_FragCoord.xy /resolution.xy;\n\n\tvec2 center = vec2(Linear_ease(0.25, 0.5, 1.0, progress), 0.5);\n\tfloat dissolve = Exponential_easeInOut(0.0, 1.0, 1.0, progress);\n\tfloat strength = Sinusoidal_easeInOut(0.0, strength, 0.5, progress);\n\tvec3 color = vec3(0.0);\n\tfloat total = 0.0;\n\tvec2 toCenter = center - p;\n\tfloat offset = hash(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n\tfor (float t = 0.0; t <= 40.0; t++) {\n\t  float percent = (t + offset) / 40.0;\n\t  float weight = 4.0 * (percent - percent * percent);\n\t  color += crossFade(p + toCenter * percent * strength, dissolve) * weight;\n\t  total += weight;\n\t  gl_FragColor = vec4(color / total, 1.0);\n\t}\n}\n",uniforms:{strength:{value:1}}}),Et=y.extend({fragmentShader:"\nprecision highp float;\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\nuniform vec4 bgColor;\n\nuniform float floating;\nuniform float unzoom;\nuniform float perspective;\nuniform float reflection;\n\n\nvec2 project (vec2 p) {\n  return p * vec2(1.0, -1.2) + vec2(0.0, -floating/100.0);\n}\n\nbool inBounds (vec2 p) {\n  return all(lessThan(vec2(0.0), p)) && all(lessThan(p, vec2(1.0)));\n}\n\n/**\n * persp 0-1 1:\n * center 1.0:from 0.0:to\n */\nvec2 xskew (vec2 p, float persp, float center) {\n  float x = mix(p.x, 1.0-p.x, center);\n  float d = distance(center, 0.5);\n  return (\n    (vec2( x, (p.y - 0.5 * (1.0 - persp) * x) / (1.0 + (persp - 1.0) * x)) - vec2(0.5 - d, 0.0))\n    * vec2(0.5 / d * -sign(center-0.5), 1.0)\n    + vec2(center, 0.0)\n  );\n}\n\nvoid main(void) {\n\tvec2 uv = gl_FragCoord.xy /resolution.xy;\n\n\tfloat uz = unzoom * 2.0 * (0.5 - distance(0.5, progress));\n\tvec2 p = -uz * 0.5 + (1.0 + uz) * uv;\n\n\tvec2 fromP, toP;\n\n\tfromP = xskew(\n\t\tp / vec2(1.0-progress, 1.0),\n\t\tmix(1.0-progress, 1.0, perspective),\n\t\t1.0\n\t);\n\n\ttoP = xskew(\n\t\t(p - vec2(1.0-progress, 0.0)) / vec2(progress, 1.0),\n\t\t1.0 - mix(1.0-progress, 0.0, perspective),\n\t\t0.0\n\t);\n\n\tif (inBounds(fromP)) {\n\t\tgl_FragColor = texture2D(texture0, fromP);\n\t}\n\telse if (inBounds(toP)) {\n\t\tgl_FragColor = texture2D(texture1, toP);\n\t}\n\telse {\n\t\tfromP = project(fromP);\n\t\ttoP = project(toP);\n\n\t\tvec4 color0 = texture2D(texture0, fromP);\n\t\tvec4 color1 = texture2D(texture1, toP);\n\n\t\tgl_FragColor = bgColor\n\t\t\t+ float(inBounds(fromP)) * mix(bgColor, color0, reflection * mix(1.0, 0.0, fromP.y))\n\t\t\t+ float(inBounds(toP)) * mix(bgColor, color1, reflection * mix(1.0, 0.0, toP.y));\n\t}\n\n\n\n\n}\n",uniforms:{bgColor:{value:new x(.1,.1,.1,1)},unzoom:{value:.3},floating:{value:3},perspective:{value:.7},reflection:{value:.4}}}),Tt=y.extend({fragmentShader:"\nprecision highp float;\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\n// uniform vec2 fade;\nuniform float strength;\n\nvoid main(void) {\n\tvec2 p = gl_FragCoord.xy /resolution.xy;\n\n\tvec4 c0 = texture2D(texture0, p);\n\tvec4 c1 = texture2D(texture1, p);\n\n\tvec2 oa = (((c0.rg + c0.b) * 0.5) * 2.0 - 1.0);\n\tvec2 ob = (((c1.rg + c1.b) * 0.5) * 2.0 - 1.0);\n\tvec2 oc = mix(oa,ob,0.5)*strength;\n\n\t// float v = smoothstep(0.0, 1.0, progress * (1.0+fade.x+fade.y) - ((1.0-p.x)*fade.x+p.y*fade.y));\n\tfloat v = progress;\n\n\tc0 = texture2D(texture0, p + oc * v);\n\tc1 = texture2D(texture1, p - oc * (1.0 - v));\n\n\tgl_FragColor = mix(c0, c1, v);\n}\n",uniforms:{strength:{value:1}}}),St=n(6),Ct=n.n(St),Dt=y.extend({fragmentShader:"\nprecision highp float;\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\n// uniform vec2 fade;\n\nuniform float dark_low, dark_high, light_low, light_high;\nuniform float brightness, contrast, saturation;\nuniform vec3 light_tint, dark_tint;\n\nuniform float rgbOffsetOpt;\nuniform float horzFuzzOpt;\nuniform float zoom;\nuniform float time;\n\nuniform float t_amount, exposure;\n\nconst vec3 lumc = vec3(0.2125, 0.7154, 0.0721);\nconst vec3 avg_lum = vec3(0.5, 0.5, 0.5);\n\n\nvec3 tint(vec3 col)\n{\n\tfloat bri = (col.x + col.y + col.z)/3.0;\n\n\tfloat v = smoothstep(dark_low, dark_high, bri);\n\tcol = mix(dark_tint * bri, col, v);\n\n\tv = smoothstep(light_low, light_high, bri);\n\tcol = mix(col, min(light_tint * col, 1.0), v);\n\n\tvec3 intensity = vec3(dot(col.rgb, lumc));\n\tvec3 sat_color = mix(intensity, col.rgb, saturation);\n\tvec3 con_color = mix(avg_lum, sat_color, contrast);\n\t\n\treturn (con_color - 1.0 + brightness) * exposure;\n}\n\n// Noise generation functions borrowed from:\n// https://github.com/ashima/webgl-noise/blob/master/src/noise2D.glsl\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n\t// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n\t// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n\t// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n\t\t+ i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n\t// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n\t// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n\t// Normalise gradients implicitly by scaling m\n\t// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n\t// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nvoid main(void) {\n\n\tvec2 p =  gl_FragCoord.xy/resolution.xy;\n\tvec2 p0 = p;\n\tvec2 p1 = p;\n\n\tp0 -= 0.5;\n\tp1 -= 0.5;\n\tp0 *= 1.0 - progress * zoom;\n\tp1 *= 1.0 - (1.0 - progress) * zoom;\n\tp0 += 0.5;\n\tp1 += 0.5;\n\n\tfloat v = min(progress, 1.0 - progress) * 2.0;\t//0.0-1.0\n\n\tfloat fuzzOffset = snoise(vec2(time*15.0, p.y * 20.0)) * 0.0015;\n\tfloat largeFuzzOffset = snoise(vec2(time*1.0, p.y * 1.0)) * (0.003 + v * 0.01);\n\tfloat f_xoff = (fuzzOffset + largeFuzzOffset) * horzFuzzOpt * progress;\n    float b_xoff = (fuzzOffset + largeFuzzOffset) * horzFuzzOpt * (1.0 - progress);\n    \n    // float rgbOffset = rgbOffsetOpt * fuzzOffset * 300.0;\n    // float rgbOffset = rgbOffsetOpt;\n    float rgbOffset = snoise(vec2(time*15.0, 1.0)) * rgbOffsetOpt;\n\n\tvec3 f_col = vec3(\n\t\ttexture2D(texture0,\tvec2(p0.x + f_xoff -0.01 * rgbOffset * progress, p0.y)).r,\n\t\ttexture2D(texture0, vec2(p0.x + f_xoff,\t  p0.y)).g,\n\t\ttexture2D(texture0, vec2(p0.x + f_xoff +0.01 * rgbOffset * progress, p0.y)).b\n\t);\n\n\tvec3 b_col = vec3(\n\t\ttexture2D(texture1, vec2(p1.x + b_xoff -0.01 * rgbOffset * (1.0 - progress), p1.y)).r,\n\t\ttexture2D(texture1, vec2(p1.x + b_xoff,\t  p1.y)).g,\n\t\ttexture2D(texture1, vec2(p1.x + b_xoff +0.01 * rgbOffset * (1.0 - progress), p1.y)).b\n\t);\n\n\tvec3 ff_col = f_col;\n\tff_col = tint(ff_col);\n\tff_col = mix(f_col, ff_col, t_amount * progress);\n\n\tvec3 bb_col = b_col;\n\tbb_col = tint(bb_col);\n\tbb_col = mix(b_col, bb_col, t_amount * (1.0 - progress));\n\n\tgl_FragColor = vec4(mix(ff_col, bb_col, progress), 1.0);\n}\n",uniforms:(yt={time:{value:0},zoom:{value:.3},dark_low:{value:100},dark_high:{value:200}},Ct()(yt,"dark_low",{value:200}),Ct()(yt,"dark_high",{value:255}),Ct()(yt,"contrast",{value:1}),Ct()(yt,"brightness",{value:1}),Ct()(yt,"saturation",{value:100}),Ct()(yt,"light_tint",{value:new m(.5,.5,.5)}),Ct()(yt,"dark_tint",{value:new m(.2,.2,.2)}),Ct()(yt,"t_amount",{value:.5}),Ct()(yt,"exposure",{value:30}),Ct()(yt,"horzFuzzOpt",{value:10}),Ct()(yt,"rgbOffsetOpt",{value:20}),yt)}),Pt=y.extend({fragmentShader:"\nprecision highp float;\n\n\n#define N 10.0\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\n\nvoid main(void) {\n\tvec2 p = gl_FragCoord.xy /resolution;\t//0.0-1.0\n\tfloat aspect = resolution.x / resolution.y;\n\tfloat v = min(progress, 1.0 - progress) * 2.0;\t//0.0-1.0\n\tv = floor(v * 30.0) / 30.0;\n\n\tif(v > 0.0) {\n\t\tvec2 steps = vec2(aspect, 1.0) * N / v;\n\t\n\t\tp -= 0.5;\n\t\n\t\tsteps = min(steps, resolution.xy);\n\t\tp = (floor(p * steps) + 0.5) / steps;\n\t\n\t\tp += 0.5;\n\t}\n\n\tvec4 c0 = texture2D(texture0, p);\n\tvec4 c1 = texture2D(texture1, p);\n\n\tgl_FragColor = mix(c0, c1, progress);\n}\n",uniforms:{}}),Rt=y.extend({fragmentShader:"\n\nprecision highp float;\n\n#define N 10.0\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\nuniform vec2 gradient;\n\nvoid main(void) {\n\tvec2 p = gl_FragCoord.xy /resolution;\n\tfloat aspect = resolution.x / resolution.y;\n\n\tfloat v = mix(0.0, 1.0, progress * (1.0+gradient.x+gradient.y) - ((1.0-p.x)*gradient.x+p.y*gradient.y));\n\tv = clamp(v, 0.0, 1.0);\n\tv = floor(v * 16.0) / 16.0;\n\n\tif(v!=0.0) {\n\t\tp -= 0.5;\n\t\n\t\tfloat pv = min(v, 1.0 - v) * 2.0;\t//0.0-1.0\n\t\tvec2 steps = vec2(aspect, 1.0) * N / pv;\n\t\tsteps = min(steps, resolution.xy);\n\t\tp = (floor(p * steps) + 0.5) / steps;\n\t\n\t\tp += 0.5;\n\t}\n\n\tvec4 c0 = texture2D(texture0, p);\n\tvec4 c1 = texture2D(texture1, p);\n\n\t// v = step(0.5, v);\n\n\tgl_FragColor = mix(c0, c1, v);\n}\n",uniforms:{gradient:{value:new g(.5,0)}}});bt.stage=R,bt.BaseTransition=y,bt.CrossWarpTransition=wt,bt.CrossZoomTransition=kt,bt.CubeTransition=Et,bt.MorphTransition=Tt,bt.NoiseTransition=Dt,bt.PixelateTransition=Pt,bt.PixelateWipeTransition=Rt,bt.Vec2=g,bt.Vec3=m,bt.Vec4=x,bt.Matrix3=Y,bt.Matrix4=W,bt.Utils=p,bt.Debug=_.Debug,window.XSlider=bt},function(t,e){}]);