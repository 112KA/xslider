!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).XSlider=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=function(t){return t&&t.Math==Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),i=function(t){try{return!!t()}catch(t){return!0}},o=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,u={f:s&&!a.call({1:2},1)?function(t){var e=s(this,t);return!!e&&e.enumerable}:a},c=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},l={}.toString,f=function(t){return l.call(t).slice(8,-1)},h="".split,d=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==f(t)?h.call(t,""):Object(t)}:Object,v=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},p=function(t){return d(v(t))},g=function(t){return"object"==typeof t?null!==t:"function"==typeof t},y=function(t,e){if(!g(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!g(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,x=function(t,e){return m.call(t,e)},w=r.document,b=g(w)&&g(w.createElement),_=function(t){return b?w.createElement(t):{}},T=!o&&!i((function(){return 7!=Object.defineProperty(_("div"),"a",{get:function(){return 7}}).a})),E=Object.getOwnPropertyDescriptor,k={f:o?E:function(t,e){if(t=p(t),e=y(e,!0),T)try{return E(t,e)}catch(t){}if(x(t,e))return c(!u.f.call(t,e),t[e])}},A=function(t){if(!g(t))throw TypeError(String(t)+" is not an object");return t},S=Object.defineProperty,O={f:o?S:function(t,e,n){if(A(t),e=y(e,!0),A(n),T)try{return S(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},P=o?function(t,e,n){return O.f(t,e,c(1,n))}:function(t,e,n){return t[e]=n,t},R=function(t,e){try{P(r,t,e)}catch(n){r[t]=e}return e},I="__core-js_shared__",M=r[I]||R(I,{}),L=Function.toString;"function"!=typeof M.inspectSource&&(M.inspectSource=function(t){return L.call(t)});var D,C,j,U=M.inspectSource,F=r.WeakMap,N="function"==typeof F&&/native code/.test(U(F)),z=e((function(t){(t.exports=function(t,e){return M[t]||(M[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),B=0,G=Math.random(),V=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++B+G).toString(36)},Y=z("keys"),X=function(t){return Y[t]||(Y[t]=V(t))},W={},q=r.WeakMap;if(N){var H=M.state||(M.state=new q),$=H.get,K=H.has,Z=H.set;D=function(t,e){return e.facade=t,Z.call(H,t,e),e},C=function(t){return $.call(H,t)||{}},j=function(t){return K.call(H,t)}}else{var J=X("state");W[J]=!0,D=function(t,e){return e.facade=t,P(t,J,e),e},C=function(t){return x(t,J)?t[J]:{}},j=function(t){return x(t,J)}}var Q={set:D,get:C,has:j,enforce:function(t){return j(t)?C(t):D(t,{})},getterFor:function(t){return function(e){var n;if(!g(e)||(n=C(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},tt=e((function(t){var e=Q.get,n=Q.enforce,i=String(String).split("String");(t.exports=function(t,e,o,a){var s,u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof e||x(o,"name")||P(o,"name",e),(s=n(o)).source||(s.source=i.join("string"==typeof e?e:""))),t!==r?(u?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=o:P(t,e,o)):c?t[e]=o:R(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||U(this)}))})),et=r,nt=function(t){return"function"==typeof t?t:void 0},rt=function(t,e){return arguments.length<2?nt(et[t])||nt(r[t]):et[t]&&et[t][e]||r[t]&&r[t][e]},it=Math.ceil,ot=Math.floor,at=function(t){return isNaN(t=+t)?0:(t>0?ot:it)(t)},st=Math.min,ut=function(t){return t>0?st(at(t),9007199254740991):0},ct=Math.max,lt=Math.min,ft=function(t,e){var n=at(t);return n<0?ct(n+e,0):lt(n,e)},ht=function(t){return function(e,n,r){var i,o=p(e),a=ut(o.length),s=ft(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},dt={includes:ht(!0),indexOf:ht(!1)},vt=dt.indexOf,pt=function(t,e){var n,r=p(t),i=0,o=[];for(n in r)!x(W,n)&&x(r,n)&&o.push(n);for(;e.length>i;)x(r,n=e[i++])&&(~vt(o,n)||o.push(n));return o},gt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],yt=gt.concat("length","prototype"),mt={f:Object.getOwnPropertyNames||function(t){return pt(t,yt)}},xt={f:Object.getOwnPropertySymbols},wt=rt("Reflect","ownKeys")||function(t){var e=mt.f(A(t)),n=xt.f;return n?e.concat(n(t)):e},bt=function(t,e){for(var n=wt(e),r=O.f,i=k.f,o=0;o<n.length;o++){var a=n[o];x(t,a)||r(t,a,i(e,a))}},_t=/#|\.prototype\./,Tt=function(t,e){var n=kt[Et(t)];return n==St||n!=At&&("function"==typeof e?i(e):!!e)},Et=Tt.normalize=function(t){return String(t).replace(_t,".").toLowerCase()},kt=Tt.data={},At=Tt.NATIVE="N",St=Tt.POLYFILL="P",Ot=Tt,Pt=k.f,Rt=function(t,e){var n,i,o,a,s,u=t.target,c=t.global,l=t.stat;if(n=c?r:l?r[u]||R(u,{}):(r[u]||{}).prototype)for(i in e){if(a=e[i],o=t.noTargetGet?(s=Pt(n,i))&&s.value:n[i],!Ot(c?i:u+(l?".":"#")+i,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;bt(a,o)}(t.sham||o&&o.sham)&&P(a,"sham",!0),tt(n,i,a,t)}},It=Object.keys||function(t){return pt(t,gt)},Mt=function(t){return Object(v(t))},Lt=Object.assign,Dt=Object.defineProperty,Ct=!Lt||i((function(){if(o&&1!==Lt({b:1},Lt(Dt({},"a",{enumerable:!0,get:function(){Dt(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Lt({},t)[n]||It(Lt({},e)).join("")!=r}))?function(t,e){for(var n=Mt(t),r=arguments.length,i=1,a=xt.f,s=u.f;r>i;)for(var c,l=d(arguments[i++]),f=a?It(l).concat(a(l)):It(l),h=f.length,v=0;h>v;)c=f[v++],o&&!s.call(l,c)||(n[c]=l[c]);return n}:Lt;function jt(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Ut(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){jt(o,r,i,a,s,"next",t)}function s(t){jt(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zt(t,e,n){return e&&Nt(t.prototype,e),n&&Nt(t,n),t}function Bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wt(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?Xt(t):e}function qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vt(t);if(e){var i=Vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wt(this,n)}}function Ht(t,e,n){return(Ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}Rt({target:"Object",stat:!0,forced:Object.assign!==Ct},{assign:Ct}),e((function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(t,e,n);if("normal"===u.type){if(r=n.done?v:h,u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=v,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",v="completed",p={};function g(){}function y(){}function m(){}var x={};x[o]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(P([])));b&&b!==n&&r.call(b,o)&&(x=b);var _=m.prototype=g.prototype=Object.create(x);function T(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function k(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function P(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:R}}function R(){return{value:e,done:!0}}return y.prototype=_.constructor=m,m.constructor=y,y.displayName=u(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},T(E.prototype),E.prototype[a]=function(){return this},t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(_),u(_,s,"Generator"),_[o]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));var $t,Kt,Zt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Jt=function(t,e,n){if(Zt(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},Qt=Array.isArray||function(t){return"Array"==f(t)},te="process"==f(r.process),ee=rt("navigator","userAgent")||"",ne=r.process,re=ne&&ne.versions,ie=re&&re.v8;ie?Kt=($t=ie.split("."))[0]+$t[1]:ee&&(!($t=ee.match(/Edge\/(\d+)/))||$t[1]>=74)&&($t=ee.match(/Chrome\/(\d+)/))&&(Kt=$t[1]);var oe=Kt&&+Kt,ae=!!Object.getOwnPropertySymbols&&!i((function(){return!Symbol.sham&&(te?38===oe:oe>37&&oe<41)})),se=ae&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ue=z("wks"),ce=r.Symbol,le=se?ce:ce&&ce.withoutSetter||V,fe=function(t){return x(ue,t)&&(ae||"string"==typeof ue[t])||(ae&&x(ce,t)?ue[t]=ce[t]:ue[t]=le("Symbol."+t)),ue[t]},he=fe("species"),de=function(t,e){var n;return Qt(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Qt(n.prototype)?g(n)&&null===(n=n[he])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},ve=[].push,pe=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,c,l,f){for(var h,v,p=Mt(u),g=d(p),y=Jt(c,l,3),m=ut(g.length),x=0,w=f||de,b=e?w(u,m):n||a?w(u,0):void 0;m>x;x++)if((s||x in g)&&(v=y(h=g[x],x,p),t))if(e)b[x]=v;else if(v)switch(t){case 3:return!0;case 5:return h;case 6:return x;case 2:ve.call(b,h)}else switch(t){case 4:return!1;case 7:ve.call(b,h)}return o?-1:r||i?i:b}},ge={forEach:pe(0),map:pe(1),filter:pe(2),some:pe(3),every:pe(4),find:pe(5),findIndex:pe(6),filterOut:pe(7)},ye=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))},me=ge.forEach,xe=ye("forEach")?[].forEach:function(t){return me(this,t,arguments.length>1?arguments[1]:void 0)};Rt({target:"Array",proto:!0,forced:[].forEach!=xe},{forEach:xe});var we={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var be in we){var _e=r[be],Te=_e&&_e.prototype;if(Te&&Te.forEach!==xe)try{P(Te,"forEach",xe)}catch(t){Te.forEach=xe}}var Ee=[].slice,ke={},Ae=function(t,e,n){if(!(e in ke)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";ke[e]=Function("C,a","return new C("+r.join(",")+")")}return ke[e](t,n)},Se=Function.bind||function(t){var e=Zt(this),n=Ee.call(arguments,1),r=function(){var i=n.concat(Ee.call(arguments));return this instanceof r?Ae(e,i.length,i):e.apply(t,i)};return g(e.prototype)&&(r.prototype=e.prototype),r};Rt({target:"Function",proto:!0},{bind:Se});var Oe=ge.some,Pe=ye("some");Rt({target:"Array",proto:!0,forced:!Pe},{some:function(t){return Oe(this,t,arguments.length>1?arguments[1]:void 0)}});var Re=function(t,e,n){var r=y(e);r in t?O.f(t,r,c(0,n)):t[r]=n},Ie=fe("species"),Me=function(t){return oe>=51||!i((function(){var e=[];return(e.constructor={})[Ie]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Le=Me("splice"),De=Math.max,Ce=Math.min,je=9007199254740991,Ue="Maximum allowed length exceeded";Rt({target:"Array",proto:!0,forced:!Le},{splice:function(t,e){var n,r,i,o,a,s,u=Mt(this),c=ut(u.length),l=ft(t,c),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=c-l):(n=f-2,r=Ce(De(at(e),0),c-l)),c+n-r>je)throw TypeError(Ue);for(i=de(u,r),o=0;o<r;o++)(a=l+o)in u&&Re(i,o,u[a]);if(i.length=r,n<r){for(o=l;o<c-r;o++)s=o+n,(a=o+r)in u?u[s]=u[a]:delete u[s];for(o=c;o>c-r+n;o--)delete u[o-1]}else if(n>r)for(o=c-r;o>l;o--)s=o+n-1,(a=o+r-1)in u?u[s]=u[a]:delete u[s];for(o=0;o<n;o++)u[o+l]=arguments[o+2];return u.length=c-r+n,i}});var Fe=function(){function t(){Ft(this,t),this._listeners={},this._properties={},this._bindMethods(["_onBubble"])}return zt(t,[{key:"_bindMethods",value:function(t){var e=this;t.forEach((function(t){return e[t]=e[t].bind(e)}))}},{key:"listeners",get:function(){return this._listeners}},{key:"get",value:function(t){return this._properties[t]}},{key:"set",value:function(t){if(t)for(var e in t)if(void 0===this._properties[e]&&void 0!==t[e]||this._properties[e]!==t[e]){var n=this._properties[e];this._properties[e]=t[e],this.dispatch(e,{type:e,value:this._properties[e],value0:n})}}},{key:"setTogether",value:function(t,e){if(e){var n=!1,r={},i={};for(var o in e)(void 0===this._properties[o]&&void 0!==e[o]||this._properties[o]!==e[o])&&(n=!0),i[o]=this._properties[o],r[o]=this._properties[o]=e[o];n&&this.dispatch(t,{type:t,values:r,values0:i})}}},{key:"dispatch",value:function(t,e){!t&&console.error("invalid Event type",t),this._listeners.hasOwnProperty(t)&&this._listeners[t].forEach((function(n){var r=e||{type:t};n.listener(r)}))}},{key:"on",value:function(t,e){return this.off(t,e),this._listeners.hasOwnProperty(t)||(this._listeners[t]=[]),this._listeners[t].push({type:t,listener:e}),this}},{key:"off",value:function(t,e){var n=this;if(t)e?this._listeners.hasOwnProperty(t)&&(this._listeners[t].some((function(r,i){r.listener==e&&n._listeners[t].splice(i,1)})),0==this._listeners[t].length&&delete this._listeners[t]):delete this._listeners[t];else for(var r in this._listeners)delete this._listeners[r];return this}},{key:"_onBubble",value:function(t){this.dispatch(t.type,t)}}]),t}(),Ne=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),t=e.call(this),console.info("xslider ver.","1.1.0"),t}return zt(n,[{key:"support",get:function(){return n.support}}]),n}(Fe);Ne.support={touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,pointer:window.navigator.pointerEnabled,MSPointer:window.navigator.msPointerEnabled};var ze=new Ne,Be="autoplayNext",Ge=[];ze.support.touch?Ge.push("touchstart","touchmove","touchend"):ze.support.pointer?Ge.push("pointerdown","pointermove","pointerup"):ze.support.MSPointer?Ge.push("MSPointerDown","MSPointerMove","MSPointerUp"):Ge.push("mousedown","mousemove","mouseup");var Ve={START:Ge[0],MOVE:Ge[1],END:Ge[2]},Ye=r.Promise,Xe=function(t,e,n){for(var r in e)tt(t,r,e[r],n);return t},We=O.f,qe=fe("toStringTag"),He=function(t,e,n){t&&!x(t=n?t:t.prototype,qe)&&We(t,qe,{configurable:!0,value:e})},$e=fe("species"),Ke=function(t){var e=rt(t),n=O.f;o&&e&&!e[$e]&&n(e,$e,{configurable:!0,get:function(){return this}})},Ze=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Je={},Qe=fe("iterator"),tn=Array.prototype,en=function(t){return void 0!==t&&(Je.Array===t||tn[Qe]===t)},nn={};nn[fe("toStringTag")]="z";var rn="[object z]"===String(nn),on=fe("toStringTag"),an="Arguments"==f(function(){return arguments}()),sn=rn?f:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),on))?n:an?f(e):"Object"==(r=f(e))&&"function"==typeof e.callee?"Arguments":r},un=fe("iterator"),cn=function(t){if(null!=t)return t[un]||t["@@iterator"]||Je[sn(t)]},ln=function(t){var e=t.return;if(void 0!==e)return A(e.call(t)).value},fn=function(t,e){this.stopped=t,this.result=e},hn=function(t,e,n){var r,i,o,a,s,u,c,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),v=Jt(e,l,1+f+d),p=function(t){return r&&ln(r),new fn(!0,t)},g=function(t){return f?(A(t),d?v(t[0],t[1],p):v(t[0],t[1])):d?v(t,p):v(t)};if(h)r=t;else{if("function"!=typeof(i=cn(t)))throw TypeError("Target is not iterable");if(en(i)){for(o=0,a=ut(t.length);a>o;o++)if((s=g(t[o]))&&s instanceof fn)return s;return new fn(!1)}r=i.call(t)}for(u=r.next;!(c=u.call(r)).done;){try{s=g(c.value)}catch(t){throw ln(r),t}if("object"==typeof s&&s&&s instanceof fn)return s}return new fn(!1)},dn=fe("iterator"),vn=!1;try{var pn=0,gn={next:function(){return{done:!!pn++}},return:function(){vn=!0}};gn[dn]=function(){return this},Array.from(gn,(function(){throw 2}))}catch(t){}var yn,mn,xn,wn=function(t,e){if(!e&&!vn)return!1;var n=!1;try{var r={};r[dn]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},bn=fe("species"),_n=function(t,e){var n,r=A(t).constructor;return void 0===r||null==(n=A(r)[bn])?e:Zt(n)},Tn=rt("document","documentElement"),En=/(?:iphone|ipod|ipad).*applewebkit/i.test(ee),kn=r.location,An=r.setImmediate,Sn=r.clearImmediate,On=r.process,Pn=r.MessageChannel,Rn=r.Dispatch,In=0,Mn={},Ln="onreadystatechange",Dn=function(t){if(Mn.hasOwnProperty(t)){var e=Mn[t];delete Mn[t],e()}},Cn=function(t){return function(){Dn(t)}},jn=function(t){Dn(t.data)},Un=function(t){r.postMessage(t+"",kn.protocol+"//"+kn.host)};An&&Sn||(An=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Mn[++In]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},yn(In),In},Sn=function(t){delete Mn[t]},te?yn=function(t){On.nextTick(Cn(t))}:Rn&&Rn.now?yn=function(t){Rn.now(Cn(t))}:Pn&&!En?(xn=(mn=new Pn).port2,mn.port1.onmessage=jn,yn=Jt(xn.postMessage,xn,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts&&kn&&"file:"!==kn.protocol&&!i(Un)?(yn=Un,r.addEventListener("message",jn,!1)):yn=Ln in _("script")?function(t){Tn.appendChild(_("script")).onreadystatechange=function(){Tn.removeChild(this),Dn(t)}}:function(t){setTimeout(Cn(t),0)});var Fn,Nn,zn,Bn,Gn,Vn,Yn,Xn,Wn={set:An,clear:Sn},qn=/web0s(?!.*chrome)/i.test(ee),Hn=k.f,$n=Wn.set,Kn=r.MutationObserver||r.WebKitMutationObserver,Zn=r.document,Jn=r.process,Qn=r.Promise,tr=Hn(r,"queueMicrotask"),er=tr&&tr.value;er||(Fn=function(){var t,e;for(te&&(t=Jn.domain)&&t.exit();Nn;){e=Nn.fn,Nn=Nn.next;try{e()}catch(t){throw Nn?Bn():zn=void 0,t}}zn=void 0,t&&t.enter()},En||te||qn||!Kn||!Zn?Qn&&Qn.resolve?(Yn=Qn.resolve(void 0),Xn=Yn.then,Bn=function(){Xn.call(Yn,Fn)}):Bn=te?function(){Jn.nextTick(Fn)}:function(){$n.call(r,Fn)}:(Gn=!0,Vn=Zn.createTextNode(""),new Kn(Fn).observe(Vn,{characterData:!0}),Bn=function(){Vn.data=Gn=!Gn}));var nr,rr,ir,or,ar=er||function(t){var e={fn:t,next:void 0};zn&&(zn.next=e),Nn||(Nn=e,Bn()),zn=e},sr=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Zt(e),this.reject=Zt(n)},ur={f:function(t){return new sr(t)}},cr=function(t,e){if(A(t),g(e)&&e.constructor===t)return e;var n=ur.f(t);return(0,n.resolve)(e),n.promise},lr=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},fr=Wn.set,hr=fe("species"),dr="Promise",vr=Q.get,pr=Q.set,gr=Q.getterFor(dr),yr=Ye,mr=r.TypeError,xr=r.document,wr=r.process,br=rt("fetch"),_r=ur.f,Tr=_r,Er=!!(xr&&xr.createEvent&&r.dispatchEvent),kr="function"==typeof PromiseRejectionEvent,Ar="unhandledrejection",Sr=Ot(dr,(function(){if(!(U(yr)!==String(yr))){if(66===oe)return!0;if(!te&&!kr)return!0}if(oe>=51&&/native code/.test(yr))return!1;var t=yr.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[hr]=e,!(t.then((function(){}))instanceof e)})),Or=Sr||!wn((function(t){yr.all(t).catch((function(){}))})),Pr=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},Rr=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;ar((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,u,c=n[o++],l=i?c.ok:c.fail,f=c.resolve,h=c.reject,d=c.domain;try{l?(i||(2===t.rejection&&Dr(t),t.rejection=1),!0===l?a=r:(d&&d.enter(),a=l(r),d&&(d.exit(),u=!0)),a===c.promise?h(mr("Promise-chain cycle")):(s=Pr(a))?s.call(a,f,h):f(a)):h(r)}catch(t){d&&!u&&d.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Mr(t)}))}},Ir=function(t,e,n){var i,o;Er?((i=xr.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),r.dispatchEvent(i)):i={promise:e,reason:n},!kr&&(o=r["on"+t])?o(i):t===Ar&&function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Mr=function(t){fr.call(r,(function(){var e,n=t.facade,r=t.value;if(Lr(t)&&(e=lr((function(){te?wr.emit("unhandledRejection",r,n):Ir(Ar,n,r)})),t.rejection=te||Lr(t)?2:1,e.error))throw e.value}))},Lr=function(t){return 1!==t.rejection&&!t.parent},Dr=function(t){fr.call(r,(function(){var e=t.facade;te?wr.emit("rejectionHandled",e):Ir("rejectionhandled",e,t.value)}))},Cr=function(t,e,n){return function(r){t(e,r,n)}},jr=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Rr(t,!0))},Ur=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw mr("Promise can't be resolved itself");var r=Pr(e);r?ar((function(){var n={done:!1};try{r.call(e,Cr(Ur,n,t),Cr(jr,n,t))}catch(e){jr(n,e,t)}})):(t.value=e,t.state=1,Rr(t,!1))}catch(e){jr({done:!1},e,t)}}};Sr&&(yr=function(t){Ze(this,yr,dr),Zt(t),nr.call(this);var e=vr(this);try{t(Cr(Ur,e),Cr(jr,e))}catch(t){jr(e,t)}},(nr=function(t){pr(this,{type:dr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Xe(yr.prototype,{then:function(t,e){var n=gr(this),r=_r(_n(this,yr));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=te?wr.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Rr(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),rr=function(){var t=new nr,e=vr(t);this.promise=t,this.resolve=Cr(Ur,e),this.reject=Cr(jr,e)},ur.f=_r=function(t){return t===yr||t===ir?new rr(t):Tr(t)},"function"==typeof Ye&&(or=Ye.prototype.then,tt(Ye.prototype,"then",(function(t,e){var n=this;return new yr((function(t,e){or.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof br&&Rt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return cr(yr,br.apply(r,arguments))}}))),Rt({global:!0,wrap:!0,forced:Sr},{Promise:yr}),He(yr,dr,!1),Ke(dr),ir=rt(dr),Rt({target:dr,stat:!0,forced:Sr},{reject:function(t){var e=_r(this);return e.reject.call(void 0,t),e.promise}}),Rt({target:dr,stat:!0,forced:Sr},{resolve:function(t){return cr(this,t)}}),Rt({target:dr,stat:!0,forced:Or},{all:function(t){var e=this,n=_r(e),r=n.resolve,i=n.reject,o=lr((function(){var n=Zt(e.resolve),o=[],a=0,s=1;hn(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=_r(e),r=n.reject,i=lr((function(){var i=Zt(e.resolve);hn(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Fr=rn?{}.toString:function(){return"[object "+sn(this)+"]"};rn||tt(Object.prototype,"toString",Fr,{unsafe:!0});var Nr=[].slice,zr=/MSIE .\./.test(ee),Br=function(t){return function(e,n){var r=arguments.length>2,i=r?Nr.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};Rt({global:!0,bind:!0,forced:zr},{setTimeout:Br(r.setTimeout),setInterval:Br(r.setInterval)});var Gr=function(t){return new Promise((function(e){return setTimeout(e,t)}))},Vr=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this))._bindMethods(["_onChangeTarget","_onTouch","_onTouchStart"]),t.on("target",t._onChangeTarget),t}return zt(n,[{key:"dispose",value:function(){this.off()}},{key:"on",value:function(t,e,r){Ht(Vt(n.prototype),"on",this).call(this,t,e,r);var i=this.get("target");return this._autoAddListener(i,t),this}},{key:"off",value:function(t,e){Ht(Vt(n.prototype),"off",this).call(this,t,e);var r=this.get("target");return this._autoRemoveListener(r,t),this}},{key:"_autoAddListener",value:function(t,e){if(t&&1==this._listeners[e].length){switch(e){case Ve.START:case Ve.MOVE:case Ve.END:t.addEventListener(e,this._onTouch);break;case"click":t.addEventListener(e,this._onBubble)}e==Ve.MOVE&&t.addEventListener(Ve.START,this._onTouchStart)}}},{key:"_autoRemoveListener",value:function(t,e){if(t&&(!this._listeners[e]||0==this._listeners[e].length)){switch(e){case Ve.START:case Ve.MOVE:case Ve.END:t.removeEventListener(e,this._onTouch);break;case"click":t.removeEventListener(e,this._onBubble)}e==Ve.MOVE&&t.removeEventListener(Ve.START,this._onTouchStart)}}},{key:"_onChangeTarget",value:function(t){if(t.value0)for(var e in this._listeners)this._autoRemoveListener(t.value0,e);this.off()}},{key:"_onTouch",value:function(t){if(ze.support.touch){var e=t.touches[0];e?(t.clientX=e.clientX,t.clientY=e.clientY):(t.clientX=this.clientX0,t.clientY=this.clientY0)}this.clientX0||(this.clientX0=t.clientX,this.clientY0=t.clientY),t.clientX0=this.clientX0,t.clientY0=this.clientY0,this.clientX0=t.clientX,this.clientY0=t.clientY,this.dispatch(t.type,t)}},{key:"_onTouchStart",value:function(t){this.clientX0=this.clientY0=void 0}}]),n}(Fe);Rt({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var Yr=Date.prototype,Xr="Invalid Date",Wr="toString",qr=Yr.toString,Hr=Yr.getTime;new Date(NaN)+""!=Xr&&tt(Yr,Wr,(function(){var t=Hr.call(this);return t==t?qr.call(this):Xr}));var $r=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this)).fps=30,t._defineFunctions(),t}return zt(n,[{key:"_defineFunctions",value:function(){for(var t=this,e=["ms","moz","webkit","o"],n=e.length;--n>-1&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];this._tickHandler=function(){t._requestId=window.requestAnimationFrame(t._tickHandler),t._lastMs=t.time;var e=t._lastMs-t._nextMs;if(e>=0){var n=t._nextMs;t._nextMs+=e+(e>=t._gap?1:t._gap-e),t.dispatch("tick",{type:"tick",time:t._lastMs-t._startMs,dt:t._nextMs-n})}}}},{key:"fps",get:function(){return this._fps},set:function(t){this._fps=t,this._gap=1/(t||60)*1e3}},{key:"time",get:function(){return Date.now()||(new Date).getTime()}},{key:"start",value:function(){this._startMs=this.time,this._nextMs=this._startMs+this._gap,this._requestId=window.requestAnimationFrame(this._tickHandler)}},{key:"stop",value:function(){window.cancelAnimationFrame(this._requestId)}}]),n}(Fe),Kr=new(function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this)).ticker=new $r,t.set({target:window}),t}return zt(n,[{key:"ready",value:function(){return new Promise((function(t,e){var n=function e(){document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),t()};"complete"===document.readyState?t():(document.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n))}))}},{key:"width",get:function(){return window.innerWidth||document.documentElement.clientWidth||0}},{key:"height",get:function(){return window.innerHeight||document.documentElement.clientHeight||0}},{key:"_autoAddListener",value:function(t,e){if(t&&(Ht(Vt(n.prototype),"_autoAddListener",this).call(this,t,e),1==this._listeners[e].length))switch(e){case"tick":this.ticker.on(e,this._onBubble),this.ticker.start();break;case"resize":t.addEventListener(e,this._onBubble)}}},{key:"_autoRemoveListener",value:function(t,e){if(t&&(Ht(Vt(n.prototype),"_autoRemoveListener",this).call(this,t,e),!this._listeners[e]||0==this._listeners[e].length))switch(e){case"tick":this.ticker.off(e,this._onBubble),this.ticker.stop();break;case"resize":t.removeEventListener(e,this._onBubble)}}}]),n}(Vr)),Zr=function(t){Gt(n,t);var e=qt(n);function n(t){var r;return Ft(this,n),(r=e.call(this)).state=t,r._bindMethods(["_onTick"]),r}return zt(n,[{key:"enabled",get:function(){return null!=this.state.option.autoplay}},{key:"start",value:function(){this.enabled&&Kr.on("tick",this._onTick)}},{key:"stop",value:function(){this.enabled&&Kr.off("tick",this._onTick)}},{key:"_onTick",value:function(t){t.time>this.state.option.autoplay.delay&&this.dispatch(Be)}}]),n}(Fe),Jr=function(t){Gt(n,t);var e=qt(n);function n(t){var r;return Ft(this,n),(r=e.call(this)).state=t,r}return zt(n,[{key:"setup",value:function(){this._target=this.state.option.initialSlideIndex,this._v=this._target-1,this._numPages=this.state.get("numPages"),this._state=n.STATE.DEFAULT,this.progress=0,this.head=!1,this.tail=!1,!this.state.option.loop&&(this._target=this.constrain(this._target));var t=this._v%this._numPages+this._numPages;this._i0=Math.floor(t)%this._numPages,this._i1=this._target}},{key:"prev",value:function(){this._target--,!this.state.option.loop&&(this._target=this.constrain(this._target))}},{key:"next",value:function(){this._target++,!this.state.option.loop&&(this._target=this.constrain(this._target))}},{key:"to",value:function(t){if(this.state.option.loop){var e,n,r=t-this.current;n=r>0?r>-(e=r-this._numPages)?e:r:-r>(e=r+this._numPages)?e:r,this._target+=n}else this._target=t}},{key:"down",value:function(){this._state=n.STATE.DOWN,this._move=0}},{key:"move",value:function(t){this._v+=t,this._move=t,!this.state.option.loop&&(this._v=this.constrain(this._v)),this._target=this._v}},{key:"up",value:function(){this._state=n.STATE.UP,!this.state.option.get("throwable","touchMove")&&(this._move=0)}},{key:"current",get:function(){var t=this._target%this._numPages+this._numPages;return Math.round(t)%this._numPages}},{key:"i0",get:function(){return this._i0}},{key:"i1",get:function(){return this._i1}},{key:"constrain",value:function(t){var e=t<0?0:this._numPages-1<t?this._numPages-1:t;return this.head=0===e,this.tail=e===this._numPages-1,e}},{key:"tick",value:function(){var t=!1;switch(this._state){case n.STATE.DOWN:break;case n.STATE.UP:this._target+=this._move,!this.state.option.loop&&(this._target=this.constrain(this._target)),this._move*=.95,this._v=this._target,Math.abs(this._move)<.01&&(this._target=Math.round(this._v),this._state=n.STATE.DEFAULT);break;default:!this.state.option.loop&&(this._target=this.constrain(this._target)),this._v+=(this._target-this._v)*this.state.option.easing,Math.abs(this._target-this._v)<.001&&(this._v=this._target,t=!0)}var e=this._v%this._numPages+this._numPages;this.progress=e%1,this._i0=Math.floor(e)%this._numPages;var r=Math.ceil(e)%this._numPages;this._i1=this._i0!==r?r:void 0,t&&this.dispatch("complete")}}]),n}(Fe);Jr.STATE={DEFAULT:"DEFAULT",DOWN:"DOWN",UP:"UP"};var Qr=function(t){Gt(n,t);var e=qt(n);function n(t,r){var i;return Ft(this,n),(i=e.call(this)).state=t,i.view=r,i._bindMethods(["_onResize"]),i}return zt(n,[{key:"setup",value:function(){this.observer=new ResizeObserver(this._onResize),this.observer.observe(this.view.dom.container)}},{key:"dispose",value:function(){this.observer.disconnect()}},{key:"_onResize",value:function(){console.log("_onResize"),this.state.setTogether("resize",{width:this.view.dom.width,height:this.view.dom.height})}}]),n}(Fe),ti=function(t){Gt(n,t);var e=qt(n);function n(t){var r;return Ft(this,n),(r=e.call(this)).state=t,r._bindMethods(["_onTick"]),r}return zt(n,[{key:"setup",value:function(t){this.indexer=t}},{key:"start",value:function(){Kr.on("tick",this._onTick)}},{key:"stop",value:function(){Kr.off("tick",this._onTick)}},{key:"_onTick",value:function(t){this.indexer.tick();var e=this.indexer,n=e.i0,r=e.i1,i=e.progress,o=e.current,a=e.head,s=e.tail;this.state.set({i0:n,i1:r,progress:i,index:o,time:t.time,head:a,tail:s})}}]),n}(Fe),ei=function(t){Gt(n,t);var e=qt(n);function n(t,r){var i;return Ft(this,n),(i=e.call(this)).state=t,i.view=r,i}return zt(n,[{key:"enabled",get:function(){return this.state.option.get("touchMove")}},{key:"start",value:function(t){this.enabled&&this.view.slide[t](Ve.START,this._onBubble)}},{key:"move",value:function(t){Kr[t](Ve.MOVE,this._onBubble),Kr[t](Ve.END,this._onBubble),this.state.set({isDrag:"on"===t})}}]),n}(Fe),ni=function(t){Gt(n,t);var e=qt(n);function n(t,r){var i;return Ft(this,n),(i=e.call(this)).state=t,i.services=r,i._bindMethods(["index","next","prev","complete"]),i}return zt(n,[{key:"index",value:function(t){var e=this.services,n=e.indexer,r=e.tick;n.to(t.value),r.start()}},{key:"next",value:function(t){t.preventDefault&&t.preventDefault();var e=this.services,n=e.autoplay,r=e.indexer,i=e.tick,o=e.touch;i.start(),o.start("off"),n.stop(),r.next()}},{key:"prev",value:function(t){t.preventDefault&&t.preventDefault();var e=this.services,n=e.autoplay,r=e.indexer,i=e.tick,o=e.touch;i.start(),o.start("off"),n.stop(),r.prev()}},{key:"complete",value:function(){var t=this.services,e=t.autoplay,n=t.tick,r=t.touch;n.stop(),r.start("on"),e.start()}}]),n}(Fe),ri=ge.map,ii=Me("map");Rt({target:"Array",proto:!0,forced:!ii},{map:function(t){return ri(this,t,arguments.length>1?arguments[1]:void 0)}});var oi=[].join,ai=d!=Object,si=ye("join",",");Rt({target:"Array",proto:!0,forced:ai||!si},{join:function(t){return oi.call(p(this),void 0===t?",":t)}});var ui,ci,li,fi=function(t){return function(e,n){var r,i,o=String(v(e)),a=at(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},hi={codeAt:fi(!1),charAt:fi(!0)},di=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),vi=X("IE_PROTO"),pi=Object.prototype,gi=di?Object.getPrototypeOf:function(t){return t=Mt(t),x(t,vi)?t[vi]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?pi:null},yi=fe("iterator"),mi=!1;[].keys&&("next"in(li=[].keys())?(ci=gi(gi(li)))!==Object.prototype&&(ui=ci):mi=!0),(null==ui||i((function(){var t={};return ui[yi].call(t)!==t})))&&(ui={}),x(ui,yi)||P(ui,yi,(function(){return this}));var xi,wi={IteratorPrototype:ui,BUGGY_SAFARI_ITERATORS:mi},bi=o?Object.defineProperties:function(t,e){A(t);for(var n,r=It(e),i=r.length,o=0;i>o;)O.f(t,n=r[o++],e[n]);return t},_i=X("IE_PROTO"),Ti=function(){},Ei=function(t){return"<script>"+t+"</"+"script>"},ki=function(){try{xi=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;ki=xi?function(t){t.write(Ei("")),t.close();var e=t.parentWindow.Object;return t=null,e}(xi):((e=_("iframe")).style.display="none",Tn.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Ei("document.F=Object")),t.close(),t.F);for(var n=gt.length;n--;)delete ki.prototype[gt[n]];return ki()};W[_i]=!0;var Ai=Object.create||function(t,e){var n;return null!==t?(Ti.prototype=A(t),n=new Ti,Ti.prototype=null,n[_i]=t):n=ki(),void 0===e?n:bi(n,e)},Si=wi.IteratorPrototype,Oi=function(){return this},Pi=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return A(n),function(t){if(!g(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Ri=wi.IteratorPrototype,Ii=wi.BUGGY_SAFARI_ITERATORS,Mi=fe("iterator"),Li="keys",Di="values",Ci="entries",ji=function(){return this},Ui=function(t,e,n,r,i,o,a){!function(t,e,n){var r=e+" Iterator";t.prototype=Ai(Si,{next:c(1,n)}),He(t,r,!1),Je[r]=Oi}(n,e,r);var s,u,l,f=function(t){if(t===i&&g)return g;if(!Ii&&t in v)return v[t];switch(t){case Li:case Di:case Ci:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,v=t.prototype,p=v[Mi]||v["@@iterator"]||i&&v[i],g=!Ii&&p||f(i),y="Array"==e&&v.entries||p;if(y&&(s=gi(y.call(new t)),Ri!==Object.prototype&&s.next&&(gi(s)!==Ri&&(Pi?Pi(s,Ri):"function"!=typeof s[Mi]&&P(s,Mi,ji)),He(s,h,!0))),i==Di&&p&&p.name!==Di&&(d=!0,g=function(){return p.call(this)}),v[Mi]!==g&&P(v,Mi,g),Je[e]=g,i)if(u={values:f(Di),keys:o?g:f(Li),entries:f(Ci)},a)for(l in u)(Ii||d||!(l in v))&&tt(v,l,u[l]);else Rt({target:e,proto:!0,forced:Ii||d},u);return u},Fi=hi.charAt,Ni="String Iterator",zi=Q.set,Bi=Q.getterFor(Ni);Ui(String,"String",(function(t){zi(this,{type:Ni,string:String(t),index:0})}),(function(){var t,e=Bi(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Fi(n,r),e.index+=t.length,{value:t,done:!1})}));var Gi=fe("unscopables"),Vi=Array.prototype;null==Vi[Gi]&&O.f(Vi,Gi,{configurable:!0,value:Ai(null)});var Yi=function(t){Vi[Gi][t]=!0},Xi="Array Iterator",Wi=Q.set,qi=Q.getterFor(Xi),Hi=Ui(Array,"Array",(function(t,e){Wi(this,{type:Xi,target:p(t),index:0,kind:e})}),(function(){var t=qi(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");Je.Arguments=Je.Array,Yi("keys"),Yi("values"),Yi("entries");var $i=fe("iterator"),Ki=fe("toStringTag"),Zi=Hi.values;for(var Ji in we){var Qi=r[Ji],to=Qi&&Qi.prototype;if(to){if(to[$i]!==Zi)try{P(to,$i,Zi)}catch(t){to[$i]=Zi}if(to[Ki]||P(to,Ki,Ji),we[Ji])for(var eo in Hi)if(to[eo]!==Hi[eo])try{P(to,eo,Hi[eo])}catch(t){to[eo]=Hi[eo]}}}var no=function(){var t=A(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function ro(t,e){return RegExp(t,e)}var io,oo,ao={UNSUPPORTED_Y:i((function(){var t=ro("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:i((function(){var t=ro("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},so=RegExp.prototype.exec,uo=z("native-string-replace",String.prototype.replace),co=so,lo=(io=/a/,oo=/b*/g,so.call(io,"a"),so.call(oo,"a"),0!==io.lastIndex||0!==oo.lastIndex),fo=ao.UNSUPPORTED_Y||ao.BROKEN_CARET,ho=void 0!==/()??/.exec("")[1];(lo||ho||fo)&&(co=function(t){var e,n,r,i,o=this,a=fo&&o.sticky,s=no.call(o),u=o.source,c=0,l=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),n=new RegExp("^(?:"+u+")",s)),ho&&(n=new RegExp("^"+u+"$(?!\\s)",s)),lo&&(e=o.lastIndex),r=so.call(a?n:o,l),a?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:lo&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),ho&&r&&r.length>1&&uo.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var vo=co;Rt({target:"RegExp",proto:!0,forced:/./.exec!==vo},{exec:vo});var po=fe("species"),go=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),yo="$0"==="a".replace(/./,"$0"),mo=fe("replace"),xo=!!/./[mo]&&""===/./[mo]("a","$0"),wo=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),bo=function(t,e,n,r){var o=fe(t),a=!i((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),s=a&&!i((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[po]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](""),!e}));if(!a||!s||"replace"===t&&(!go||!yo||xo)||"split"===t&&!wo){var u=/./[o],c=n(o,""[t],(function(t,e,n,r,i){return e.exec===RegExp.prototype.exec?a&&!i?{done:!0,value:u.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:yo,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:xo}),l=c[0],f=c[1];tt(String.prototype,t,l),tt(RegExp.prototype,o,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}r&&P(RegExp.prototype[o],"sham",!0)},_o=hi.charAt,To=function(t,e,n){return e+(n?_o(t,e).length:1)},Eo=Math.floor,ko="".replace,Ao=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,So=/\$([$&'`]|\d{1,2})/g,Oo=function(t,e,n,r,i,o){var a=n+t.length,s=r.length,u=So;return void 0!==i&&(i=Mt(i),u=Ao),ko.call(o,u,(function(o,u){var c;switch(u.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(a);case"<":c=i[u.slice(1,-1)];break;default:var l=+u;if(0===l)return o;if(l>s){var f=Eo(l/10);return 0===f?o:f<=s?void 0===r[f-1]?u.charAt(1):r[f-1]+u.charAt(1):o}c=r[l-1]}return void 0===c?"":c}))},Po=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==f(t))throw TypeError("RegExp#exec called on incompatible receiver");return vo.call(t,e)},Ro=Math.max,Io=Math.min;bo("replace",2,(function(t,e,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=v(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var s=n(e,t,this,r);if(s.done)return s.value}var u=A(t),c=String(this),l="function"==typeof r;l||(r=String(r));var f=u.global;if(f){var h=u.unicode;u.lastIndex=0}for(var d=[];;){var v=Po(u,c);if(null===v)break;if(d.push(v),!f)break;""===String(v[0])&&(u.lastIndex=To(c,ut(u.lastIndex),h))}for(var p,g="",y=0,m=0;m<d.length;m++){v=d[m];for(var x=String(v[0]),w=Ro(Io(at(v.index),c.length),0),b=[],_=1;_<v.length;_++)b.push(void 0===(p=v[_])?p:String(p));var T=v.groups;if(l){var E=[x].concat(b,w,c);void 0!==T&&E.push(T);var k=String(r.apply(void 0,E))}else k=Oo(x,c,w,b,T,r);w>=y&&(g+=c.slice(y,w)+k,y=w+x.length)}return g+c.slice(y)}]}));var Mo=ge.filter,Lo=Me("filter");Rt({target:"Array",proto:!0,forced:!Lo},{filter:function(t){return Mo(this,t,arguments.length>1?arguments[1]:void 0)}});var Do=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};bo("search",1,(function(t,e,n){return[function(e){var n=v(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=A(t),o=String(this),a=i.lastIndex;Do(a,0)||(i.lastIndex=0);var s=Po(i,o);return Do(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var Co=mt.f,jo={}.toString,Uo="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Fo=function(t){return Uo&&"[object Window]"==jo.call(t)?function(t){try{return Co(t)}catch(t){return Uo.slice()}}(t):Co(p(t))},No=i((function(){return!Object.getOwnPropertyNames(1)}));Rt({target:"Object",stat:!0,forced:No},{getOwnPropertyNames:Fo});var zo=new(function(){function t(){Ft(this,t)}return zt(t,[{key:"copyStyle",value:function(t,e,n){var r={};if(n&&n.length>0)for(var i=0;i<n.length;i++){var o=n[i];r[o]=e.getPropertyValue(o)}if(t.cssText)e.cssText=t.cssText;else for(var a=0;a<t.length;a++){var s=t[a];e.setProperty(s,t.getPropertyValue(s),t.getPropertyPriority(s))}Object.getOwnPropertyNames(r).forEach((function(t){e.setProperty(t,r[t])}))}},{key:"cloneNode",value:function(t){var e=this,n=t.cloneNode(!1);return new Promise((function(r,i){if(t instanceof Element)if(e.copyStyle(window.getComputedStyle(t),n.style),t.hasChildNodes()){var o=t.childNodes,a=[];o.forEach((function(t,r,i){var o=e.cloneNode(t).then((function(t){e.insertChildAtIndex(n,t,r)}));a.push(o)})),Promise.all(a).then((function(){r(n)}))}else r(n);else r(n)}))}},{key:"insertChildAtIndex",value:function(t,e,n){n||(n=0),n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n])}},{key:"cloneStyle",value:function(t,e,n){var r=this;return t instanceof Element?(this.copyStyle(window.getComputedStyle(t),e.style,n),t.hasChildNodes()?void t.childNodes.forEach((function(t,i,o){r.cloneStyle(t,e.childNodes[i],n)})):e):e}}]),t}()),Bo=fe("match"),Go=ao.UNSUPPORTED_Y,Vo=[].push,Yo=Math.min,Xo=4294967295;bo("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r,i,o=String(v(this)),a=void 0===n?Xo:n>>>0;if(0===a)return[];if(void 0===t)return[o];if(!g(r=t)||!(void 0!==(i=r[Bo])?i:"RegExp"==f(r)))return e.call(o,t,a);for(var s,u,c,l=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,p=new RegExp(t.source,h+"g");(s=vo.call(p,o))&&!((u=p.lastIndex)>d&&(l.push(o.slice(d,s.index)),s.length>1&&s.index<o.length&&Vo.apply(l,s.slice(1)),c=s[0].length,d=u,l.length>=a));)p.lastIndex===s.index&&p.lastIndex++;return d===o.length?!c&&p.test("")||l.push(""):l.push(o.slice(d)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=v(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var a=A(t),s=String(this),u=_n(a,RegExp),c=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Go?"g":"y"),f=new u(Go?"^(?:"+a.source+")":a,l),h=void 0===i?Xo:i>>>0;if(0===h)return[];if(0===s.length)return null===Po(f,s)?[s]:[];for(var d=0,v=0,p=[];v<s.length;){f.lastIndex=Go?0:v;var g,y=Po(f,Go?s.slice(v):s);if(null===y||(g=Yo(ut(f.lastIndex+(Go?v:0)),s.length))===d)v=To(s,v,c);else{if(p.push(s.slice(d,v)),p.length===h)return p;for(var m=1;m<=y.length-1;m++)if(p.push(y[m]),p.length===h)return p;v=d=g}}return p.push(s.slice(d)),p}]}),Go);var Wo=new(function(){function t(){Ft(this,t);var e="application/font-woff",n="image/jpeg";this.mimes={woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:n,jpeg:n,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}return zt(t,[{key:"loadImage",value:function(t,e){return new Promise((function(n,r){t.src=e,function e(){t.complete?n():setTimeout(e,10)}()}))}},{key:"get",value:function(t,e){return new Promise((function(n,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){switch(i.readyState){case 4:200==i.status||304==i.status?n(i.response):r()}},i.ontimeout=function(){r()},i.responseType=e,i.timeout=3e4,i.open("GET",t,!0),i.send(null)}))}},{key:"getDataURI",value:function(t){var e=this,n=this.parseExtension(t);return this.get(t,"blob").then((function(t){return e.readBlob.bind(e)(t,n)}))}},{key:"parseExtension",value:function(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:null}},{key:"getMimeType",value:function(t){}},{key:"readBlob",value:function(t,e){var n=new FileReader,r=e?this.mimes[e]:null;return new Promise((function(e,i){n.onloadend=function(){var t=n.result;r&&(t=t.split(",")[1],t="data:"+r+";base64,"+t),e(t)},n.readAsDataURL(t)}))}}]),t}()),qo={URL_REGEX:/url\(['"]?([^'"]+?)['"]?\)/g,resolveFonts:function(){var t=this;return new Promise((function(e,n){if(t.inlinedFontString)e();else{var r=t.readFontRules().map((function(t){return t.cssText}));t.inlineFonts(r).then((function(n){t.inlinedFontString=n.join(" "),e()}))}}))},readFontRules:function(){for(var t=[],e=document.styleSheets,n=0;n<e.length;n++){var r=e[n];if(r.cssRules)for(var i=0;i<r.cssRules.length;i++){var o=r.cssRules[i];o.type===CSSRule.FONT_FACE_RULE&&t.push(o)}}return t},inlineFonts:function(t){var e=this,n=t.map((function(t){return e._inline(t)}));return Promise.all(n)},inlineNode:function(t){return zo.cloneNode(t).then(this.inlineImage.bind(this))},_inline:function(t){var e=this.searchUrls(t),n=[];return e.map((function(e){var r=Wo.getDataURI(e).then((function(n){t=t.replace(e,n)}));n.push(r)})),Promise.all(n).then((function(){return t}))},searchUrls:function(t){for(var e,n=this,r=[];null!==(e=this.URL_REGEX.exec(t));)r.push(e[1]);return r.filter((function(t){return n.isDataURI(t)}))},inlineImage:function(t){var e=this;return new Promise((function(n,r){Promise.resolve(t).then(e.inlineImageElement.bind(e)).then(e.inlineBackgroundImage.bind(e)).then((function(){if(t.hasChildNodes()){var r=t.childNodes,i=[];r.forEach((function(t,n,r){var o=e.inlineImage(t);i.push(o)})),Promise.all(i).then((function(){n(t)}))}else n(t)}))}))},inlineImageElement:function(t){return t instanceof HTMLImageElement?this.isDataURI(t.src)?t:new Promise((function(e,n){Wo.getDataURI(t.src).then((function(r){t.onload=function(){e(t)},t.onerror=n,t.src=r}))})):t},inlineBackgroundImage:function(t){if(!(t instanceof Element))return t;var e=t.style.getPropertyValue("background");return e?this._inline(e).then((function(e){return t.style.setProperty("background",e),t})):t},isDataURI:function(t){return-1===t.search(/^(data:)/)}},Ho=function(){function t(e,n){Ft(this,t),this.state=e,this.services=n}var e;return zt(t,[{key:"ready",value:(e=Ut(regeneratorRuntime.mark((function t(){var e,n,r,i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qo.resolveFonts();case 3:e=this.services,n=e.indexer,e.resize,r=e.tick,i=e.touch,console.log("StageInteractor ready","Font resolved"),n.setup(),r.setup(n),i.start("on"),o=n.i0,a=n.i1,this.state.set({i0:o,i1:a}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.warn("first ready rejected : ",t.t0);case 15:case"end":return t.stop()}}),t,this,[[0,12]])}))),function(){return e.apply(this,arguments)})},{key:"dispose",value:function(){var t=this.services,e=t.autoplay,n=t.resize,r=t.tick,i=t.touch;e.stop(),n.dispose(),r.stop(),i.start("off")}}]),t}(),$o=function(t){Gt(n,t);var e=qt(n);function n(t,r){var i;return Ft(this,n),(i=e.call(this)).state=t,i.services=r,i._bindMethods(["start","move","end"]),i}return zt(n,[{key:"start",value:function(){var t=this.services,e=t.autoplay,n=t.indexer,r=t.tick,i=t.touch;e.stop(),n.down(),r.start(),i.move("on")}},{key:"move",value:function(t){var e=(t.clientX-t.clientX0)/this.state.get("width");this.services.indexer.move(-e)}},{key:"end",value:function(){var t=this.services,e=t.indexer,n=t.touch;e.up(),n.move("off")}}]),n}(Fe),Ko=function(t){Gt(r,t);var e,n=qt(r);function r(t,e){var i;return Ft(this,r),(i=n.call(this)).state=t,i.view=e,i._bindMethods(["index","head","tail"]),i}return zt(r,[{key:"index",value:(e=Ut(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.view,n=e.pager,e.slide,r=this.state.get("index"),n.index=r;case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"head",value:function(){var t=this.view.prev;t&&(t.active=!this.state.get("head"))}},{key:"tail",value:function(){var t=this.view.next;t&&(t.active=!this.state.get("tail"))}}]),r}(Fe),Zo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Ft(this,t),this.set(e,n)}return zt(t,[{key:"set",value:function(t,e){this.data=[t,e]}},{key:"x",get:function(){return this.data[0]},set:function(t){this.data[0]=t}},{key:"y",get:function(){return this.data[1]},set:function(t){this.data[1]=t}}]),t}(),Jo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Ft(this,t),this.set(e,n,r)}return zt(t,[{key:"set",value:function(t,e,n){this.data=[t,e,n]}},{key:"x",get:function(){return this.data[0]},set:function(t){this.data[0]=t}},{key:"y",get:function(){return this.data[1]},set:function(t){this.data[1]=t}},{key:"z",get:function(){return this.data[2]},set:function(t){this.data[2]=t}}]),t}(),Qo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Ft(this,t),this.set(e,n,r,i)}return zt(t,[{key:"set",value:function(t,e,n,r){this.data=[t,e,n,r]}},{key:"width",get:function(){return this.data[2]},set:function(t){this.data[2]=t}},{key:"height",get:function(){return this.data[3]},set:function(t){this.data[3]=t}},{key:"x",get:function(){return this.data[0]},set:function(t){this.data[0]=t}},{key:"y",get:function(){return this.data[1]},set:function(t){this.data[1]=t}},{key:"z",get:function(){return this.data[2]},set:function(t){this.data[2]=t}},{key:"w",get:function(){return this.data[3]},set:function(t){this.data[3]=t}},{key:"equals",value:function(t){return this.x===t.x&&this.y==t.y&&this.z==t.z&&this.w==t.w}}]),t}(),ta=Object.freeze({__proto__:null,Vec2:Zo,Vec3:Jo,Vec4:Qo}),ea={vertexShader:"\nattribute vec2 position;\n\nvoid main(void) {\n\tgl_Position = vec4(position, 0.0, 1.0);\n}\n",fragmentShader:"\nprecision highp float;\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\nuniform vec2 gradient;\n\nvoid main(void) {\n\tvec2 uv = gl_FragCoord.xy /resolution.xy;\n\tvec4 color0 = texture2D(texture0, uv);\n\tvec4 color1 = texture2D(texture1, uv);\n\tfloat v = smoothstep(0.0, 1.0, progress * (1.0+gradient.x+gradient.y) - ((1.0-uv.x)*gradient.x+uv.y*gradient.y));\n\tgl_FragColor = mix(color0, color1, v);\n}\n",uniforms:{gradient:{value:new Zo(1,1)}},extend:function(t){return Object.assign({},this,t)}},na={selector:"#xslider",initialSlideIndex:0,autoplay:!1,loop:!0,touchMove:{throwable:!0},renderer:void 0,debug:!1,easing:.15,transition:ea,get:function(t,e){return e?this[e]?this[e][t]:void 0:this[t]},Debug:{DISPLAY:{DOM:"DEBUG_DISPLAY_DOM",SVG:"DEBUG_DISPLAY_SVG",IMG:"DEBUG_DISPLAY_IMG"}}},ra=function(t){Gt(o,t);var e,n,r,i=qt(o);function o(t,e){var n;return Ft(this,o),(n=i.call(this)).state=t,n.view=e,n._bindMethods(["time","resize","drag"]),n}return zt(o,[{key:"setup",value:(r=Ut(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.view.dom,this.state.option.debug==na.Debug.DISPLAY.DOM&&e.container.classList.add("xslider-debug"),n=this.state.get("i0"),r=this.state.get("i1"),console.log("slide ready",n,r),t.next=6,this.view.slide.ready(n,r);case 6:console.log("slide readied");case 7:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"time",value:(n=Ut(regeneratorRuntime.mark((function t(){var e,n,r,i,o,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.view,n=e.renderer,r=e.slide,i=this.state.get("i0"),o=this.state.get("i1"),a=this.state.get("progress"),s=this.state.get("time"),console.log("time",i,o),t.next=4,r.ready(i,o);case 4:r.uniforms.progress.value=a,r.uniforms.time&&(r.uniforms.time.value=s),n.default.render(i,o,a),n.gl.render(),console.log("complete time");case 9:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"resize",value:(e=Ut(regeneratorRuntime.mark((function t(){var e,n,r,i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.view,n=e.renderer,r=e.slide,i=e.dom,o=i.width,a=i.height,i.canvas.setAttribute("width",o),i.canvas.setAttribute("height",a),n.default.resize(o,a),n.gl.resize(o,a),t.next=7,r.resize(o,a);case 7:n.gl.render();case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"drag",value:function(){var t=this.state.get("isDrag");this.view.dom.slideTouchDisabled=t}}]),o}(Fe),ia=function(){function t(e,n){Ft(this,t),this.state=e,this.view=n,this.services={indexer:new Jr(e),autoplay:new Zr(e),resize:new Qr(e,n),tick:new ti(e),touch:new ei(e,n)},this.usecases={stage:new Ho(this.state,this.services),slide:new ni(this.state,this.services),touch:new $o(this.state,this.services)},this.presenters={stage:new ra(this.state,this.view),index:new Ko(this.state,this.view)}}var e;return zt(t,[{key:"setup",value:(e=Ut(regeneratorRuntime.mark((function t(){var e,n,r,i,o,a,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.usecases.stage.ready();case 2:return t.next=4,this.presenters.stage.setup();case 4:i=this.services,o=i.autoplay,a=i.indexer,s=i.tick,u=i.touch,i.resize.setup(),this.state.on("resize",this.presenters.stage.resize),s.start(),o.on(Be,this.usecases.slide.next),a.on("complete",this.usecases.slide.complete),u.on(Ve.START,this.usecases.touch.start),u.on(Ve.MOVE,this.usecases.touch.move),u.on(Ve.END,this.usecases.touch.end),null===(e=this.view.pager)||void 0===e||e.on("index",this.usecases.slide.index),null===(n=this.view.prev)||void 0===n||n.on("click",this.usecases.slide.prev),null===(r=this.view.next)||void 0===r||r.on("click",this.usecases.slide.next),this.state.on("index",this.presenters.index.index),this.state.on("head",this.presenters.index.head),this.state.on("tail",this.presenters.index.tail),this.state.on("time",this.presenters.stage.time),this.state.on("isDrag",this.presenters.stage.drag);case 21:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"dispose",value:function(){var t,e,n;this.usecases.stage.dispose();var r=this.services,i=r.autoplay,o=r.indexer,a=r.touch;i.off(Be,this.usecases.slide.next),o.off("complete",this.usecases.slide.complete),a.off(Ve.MOVE,this.usecases.touch.move),a.off(Ve.END,this.usecases.touch.end),null===(t=this.view.pager)||void 0===t||t.off("index",this.usecases.slide.index),null===(e=this.view.prev)||void 0===e||e.off("click",this.usecases.slide.prev),null===(n=this.view.next)||void 0===n||n.off("click",this.usecases.slide.next),this.state.off("index",this.presenters.index.index),this.state.off("head",this.presenters.index.head),this.state.off("tail",this.presenters.index.tail),this.state.off("time",this.presenters.stage.time),this.state.off("resize",this.presenters.stage.resize),this.state.off("isDrag",this.presenters.stage.drag)}}]),t}(),oa=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this)).set({i0:0,i1:1,progress:0,width:0,height:0,head:!1,tail:!1,time:0,numPages:0,isDrag:!1}),t}return zt(n,[{key:"setup",value:function(t){this.option=Object.assign({},na,t)}},{key:"dispose",value:function(){this.option=void 0}}]),n}(Fe),aa=function(t){Gt(n,t);var e=qt(n);function n(){return Ft(this,n),e.call(this)}return zt(n,[{key:"setup",value:function(t){this.set({target:t})}},{key:"active",set:function(t){var e=this.get("target");t?e.classList.remove("xslider-disabled"):e.classList.add("xslider-disabled")}},{key:"dispose",value:function(){this.active=!0}}]),n}(Vr),sa=dt.indexOf,ua=[].indexOf,ca=!!ua&&1/[1].indexOf(1,-0)<0,la=ye("indexOf");Rt({target:"Array",proto:!0,forced:ca||!la},{indexOf:function(t){return ca?ua.apply(this,arguments)||0:sa(this,t,arguments.length>1?arguments[1]:void 0)}});var fa=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this))._bindMethods(["_onClick","_onChangeIndex"]),t}return zt(n,[{key:"setup",value:function(t){this.element=t.pager,this.list=[];for(var e=t.pages.length,n=0;n<e;n++){var r=document.createElement("span");this.element.appendChild(r),r.addEventListener("click",this._onClick),this.list.push(r)}this.on("index",this._onChangeIndex)}},{key:"dispose",value:function(){var t=this;this.off("index",this._onChangeIndex),this.set({index:void 0}),this.list.forEach((function(e){e.removeEventListener("click",t._onClick),t.element.removeChild(e)}))}},{key:"_onClick",value:function(t){var e=this.list.indexOf(t.target);this.set({index:e})}},{key:"_onChangeIndex",value:function(t){this.index=t.value}},{key:"index",set:function(t){this.list.forEach((function(t){return t.classList.remove("xslider-active")})),this.list[t].classList.add("xslider-active")}}]),n}(Fe),ha=fe("isConcatSpreadable"),da=9007199254740991,va="Maximum allowed index exceeded",pa=oe>=51||!i((function(){var t=[];return t[ha]=!1,t.concat()[0]!==t})),ga=Me("concat"),ya=function(t){if(!g(t))return!1;var e=t[ha];return void 0!==e?!!e:Qt(t)};Rt({target:"Array",proto:!0,forced:!pa||!ga},{concat:function(t){var e,n,r,i,o,a=Mt(this),s=de(a,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(ya(o=-1===e?a:arguments[e])){if(u+(i=ut(o.length))>da)throw TypeError(va);for(n=0;n<i;n++,u++)n in o&&Re(s,u,o[n])}else{if(u>=da)throw TypeError(va);Re(s,u++,o)}return s.length=u,s}});var ma={parser:new DOMParser,convert:function(t,e,n){t.setAttribute("xmlns","http://www.w3.org/1999/xhtml");var r='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(e,'" height="').concat(n,'">\n        <foreignObject x="0" y="0" width="100%" height="100%"></foreignObject>\n      </svg>'),i=this.parser.parseFromString(r,"text/xml"),o=document.createElement("style");return o.appendChild(document.createTextNode(qo.inlinedFontString)),t.appendChild(o),i.getElementsByTagName("foreignObject")[0].appendChild(t),i}},xa=function(){function t(e,n){Ft(this,t),this.element=e,this.canvas=document.createElement("canvas"),this.image=new Image,this.layer={gl:e.querySelector(".xslider-layer-gl"),ui:e.querySelector(".xslider-layer-ui")},this.inlinedNode=void 0,this.needsResize=!1}var e,n,r;return zt(t,[{key:"dispose",value:function(){this.layer.gl&&this.layer.gl.classList.remove("xslider-capture")}},{key:"ready",value:(r=Ut(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("ready"),this.isReadied||!this.hasTexture){t.next=6;break}return t.next=4,qo.inlineNode(this.layer.gl);case 4:this.inlinedNode=t.sent,console.log("complete ready");case 6:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"_loadSvg",value:(n=Ut(regeneratorRuntime.mark((function t(e,n){var r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.svg=ma.convert(this.inlinedNode,e,n),r=(new XMLSerializer).serializeToString(this.svg),i="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r),t.next=5,Wo.loadImage(this.image,i);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"resize",value:(e=Ut(regeneratorRuntime.mark((function e(n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("resize",this.element),!this.hasTexture){e.next=14;break}if(!this.needsResize){e.next=14;break}return this.needsResize=!1,this.canvas.width=n,this.canvas.height=r,this.layer.gl.classList.add("xslider-capture"),zo.cloneStyle(this.layer.gl,this.inlinedNode,t.EXCLUDES),this.layer.gl.classList.remove("xslider-capture"),e.next=11,this._loadSvg(n,r);case 11:(i=this.canvas.getContext("2d")).clearRect(0,0,n,r),i.drawImage(this.image,0,0,n,r);case 14:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"isReadied",get:function(){return void 0!==this.inlinedNode}},{key:"hasTexture",get:function(){return void 0!==this.layer.gl}},{key:"active",set:function(t){var e=t?"add":"remove";this.element.classList[e]("xslider-page-active")}}]),t}();xa.EXCLUDES=["background","left","right","width","height"];var wa,ba=function(t){Gt(o,t);var e,n,r,i=qt(o);function o(){var t;return Ft(this,o),(t=i.call(this)).list=[],t.width=t.height=void 0,t._bindMethods(["_onChangePage"]),t}return zt(o,[{key:"setup",value:function(t,e){var n=this;this.set({target:t.list}),t.pages.forEach((function(t){n.list.push(new xa(t))})),this.mesh=e,this.mesh&&(this.uniforms=this.mesh.material.uniforms),this.on("page0",this._onChangePage),this.on("page1",this._onChangePage)}},{key:"ready",value:(r=Ut(regeneratorRuntime.mark((function t(e,n){var r,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("ready"),r=this.list[e],i=void 0,o=[r.ready()],void 0!==n&&(i=this.list[n],o.push(i.ready())),t.next=7,Promise.all(o);case 7:this.set({page0:r,page1:i});case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"dispose",value:function(){this.list.forEach((function(t){t.dispose()})),this.off("page0",this._onChangePage),this.off("page1",this._onChangePage);var t=this.get("page0"),e=this.get("page1");t.active=!1,e&&(e.active=!1)}},{key:"resize",value:(n=Ut(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("resize",e,n),this.width=e,this.height=n,this.mesh&&this.uniforms.resolution.value.set(e,n),this.list.forEach((function(t){t.needsResize=!0})),t.next=7,Promise.all([this._updatePage(0),this._updatePage(1)]);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"_onChangePage",value:function(t){var e=!1;switch(t.type){case"page0":this._updatePage(0),e=void 0!==t.value0;break;case"page1":this._updatePage(1),e=void 0!==t.value0&&t.value0!==this.get("page0")}e&&(t.value0.active=!1)}},{key:"_updatePage",value:(e=Ut(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.width||void 0!==this.height){t.next=2;break}return t.abrupt("return");case 2:if(console.log("_updatePage",e),!(n=this.get("page"+e))){t.next=10;break}return n.active=!0,t.next=8,Gr(100);case 8:return t.next=10,n.resize(this.width,this.height);case 10:this.uniforms&&((r=this.uniforms["texture"+e].value).image=n?n.canvas:void 0,r.needsUpdate=!0);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),o}(Vr),_a=function(){function t(){Ft(this,t)}return zt(t,[{key:"width",get:function(){return this.container.clientWidth}},{key:"height",get:function(){return this.container.clientHeight}},{key:"setup",value:function(t){this.container=document.querySelector(t),this.container.classList.add("xslider-container"),this.list=this.container.querySelector(".xslider-slide"),this.pages=this.list.querySelectorAll(".xslider-page"),this.pager=this.container.querySelector(".xslider-pager"),this.prev=this.container.querySelector(".xslider-prev"),this.next=this.container.querySelector(".xslider-next"),this.canvas=document.createElement("canvas"),this.container.insertBefore(this.canvas,this.list)}},{key:"dispose",value:function(){this.container.classList.remove("xslider-container","xslider-debug"),this.container.removeChild(this.canvas)}},{key:"slideTouchDisabled",set:function(t){var e=t?"add":"remove";this.list.classList[e]("xslider-disabled")}}]),t}(),Ta=function(t){Gt(n,t);var e=qt(n);function n(){return Ft(this,n),e.call(this)}return zt(n,[{key:"setup",value:function(t,e){this.option=t,this.slide=e}},{key:"dispose",value:function(){}},{key:"render",value:function(t,e,n){}},{key:"resize",value:function(t,e){this.width=t,this.height=e}}]),n}(Fe),Ea=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this)).dx=0,t}return zt(n,[{key:"render",value:function(t,e,r){Ht(Vt(n.prototype),"render",this).call(this,t,e,r);var i=this.slide.list[t],o=this.slide.list[e],a=-r*this.width;this._updatePage(i,a),i!=o&&(a=(1-r)*this.width,this._updatePage(o,a))}},{key:"_updatePage",value:function(t,e,n){t&&t.layer.ui&&(t.layer.ui.style.webkitTransform="translate("+e+"px, 0) scale(1)")}}]),n}(Ta),ka="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Aa=O.f,Sa=r.Int8Array,Oa=Sa&&Sa.prototype,Pa=r.Uint8ClampedArray,Ra=Pa&&Pa.prototype,Ia=Sa&&gi(Sa),Ma=Oa&&gi(Oa),La=Object.prototype,Da=La.isPrototypeOf,Ca=fe("toStringTag"),ja=V("TYPED_ARRAY_TAG"),Ua=ka&&!!Pi&&"Opera"!==sn(r.opera),Fa=!1,Na={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},za={BigInt64Array:8,BigUint64Array:8},Ba=function(t){if(!g(t))return!1;var e=sn(t);return x(Na,e)||x(za,e)};for(wa in Na)r[wa]||(Ua=!1);if((!Ua||"function"!=typeof Ia||Ia===Function.prototype)&&(Ia=function(){throw TypeError("Incorrect invocation")},Ua))for(wa in Na)r[wa]&&Pi(r[wa],Ia);if((!Ua||!Ma||Ma===La)&&(Ma=Ia.prototype,Ua))for(wa in Na)r[wa]&&Pi(r[wa].prototype,Ma);if(Ua&&gi(Ra)!==Ma&&Pi(Ra,Ma),o&&!x(Ma,Ca))for(wa in Fa=!0,Aa(Ma,Ca,{get:function(){return g(this)?this[ja]:void 0}}),Na)r[wa]&&P(r[wa],ja,wa);var Ga={NATIVE_ARRAY_BUFFER_VIEWS:Ua,TYPED_ARRAY_TAG:Fa&&ja,aTypedArray:function(t){if(Ba(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(Pi){if(Da.call(Ia,t))return t}else for(var e in Na)if(x(Na,wa)){var n=r[e];if(n&&(t===n||Da.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(o){if(n)for(var i in Na){var a=r[i];a&&x(a.prototype,t)&&delete a.prototype[t]}Ma[t]&&!n||tt(Ma,t,n?e:Ua&&Oa[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var i,a;if(o){if(Pi){if(n)for(i in Na)(a=r[i])&&x(a,t)&&delete a[t];if(Ia[t]&&!n)return;try{return tt(Ia,t,n?e:Ua&&Sa[t]||e)}catch(t){}}for(i in Na)!(a=r[i])||a[t]&&!n||tt(a,t,e)}},isView:function(t){if(!g(t))return!1;var e=sn(t);return"DataView"===e||x(Na,e)||x(za,e)},isTypedArray:Ba,TypedArray:Ia,TypedArrayPrototype:Ma},Va=Ga.NATIVE_ARRAY_BUFFER_VIEWS,Ya=r.ArrayBuffer,Xa=r.Int8Array,Wa=!Va||!i((function(){Xa(1)}))||!i((function(){new Xa(-1)}))||!wn((function(t){new Xa,new Xa(null),new Xa(1.5),new Xa(t)}),!0)||i((function(){return 1!==new Xa(new Ya(2),1,void 0).length})),qa=function(t){if(void 0===t)return 0;var e=at(t),n=ut(e);if(e!==n)throw RangeError("Wrong length or index");return n},Ha=Math.abs,$a=Math.pow,Ka=Math.floor,Za=Math.log,Ja=Math.LN2,Qa=function(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?$a(2,-24)-$a(2,-77):0,f=t<0||0===t&&1/t<0?1:0,h=0;for((t=Ha(t))!=t||t===1/0?(i=t!=t?1:0,r=u):(r=Ka(Za(t)/Ja),t*(o=$a(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?l/o:l*$a(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*$a(2,e),r+=c):(i=t*$a(2,c-1)*$a(2,e),r=0));e>=8;a[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[h++]=255&r,r/=256,s-=8);return a[--h]|=128*f,a},ts=function(t,e){var n,r=t.length,i=8*r-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=r-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=e;s>0;n=256*n+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return n?NaN:c?-1/0:1/0;n+=$a(2,e),l-=a}return(c?-1:1)*n*$a(2,l-e)},es=function(t){for(var e=Mt(this),n=ut(e.length),r=arguments.length,i=ft(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:ft(o,n);a>i;)e[i++]=t;return e},ns=mt.f,rs=O.f,is=Q.get,os=Q.set,as="ArrayBuffer",ss="DataView",us="Wrong index",cs=r.ArrayBuffer,ls=cs,fs=r.DataView,hs=fs&&fs.prototype,ds=Object.prototype,vs=r.RangeError,ps=Qa,gs=ts,ys=function(t){return[255&t]},ms=function(t){return[255&t,t>>8&255]},xs=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},ws=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},bs=function(t){return ps(t,23,4)},_s=function(t){return ps(t,52,8)},Ts=function(t,e){rs(t.prototype,e,{get:function(){return is(this)[e]}})},Es=function(t,e,n,r){var i=qa(n),o=is(t);if(i+e>o.byteLength)throw vs(us);var a=is(o.buffer).bytes,s=i+o.byteOffset,u=a.slice(s,s+e);return r?u:u.reverse()},ks=function(t,e,n,r,i,o){var a=qa(n),s=is(t);if(a+e>s.byteLength)throw vs(us);for(var u=is(s.buffer).bytes,c=a+s.byteOffset,l=r(+i),f=0;f<e;f++)u[c+f]=l[o?f:e-f-1]};if(ka){if(!i((function(){cs(1)}))||!i((function(){new cs(-1)}))||i((function(){return new cs,new cs(1.5),new cs(NaN),cs.name!=as}))){for(var As,Ss=(ls=function(t){return Ze(this,ls),new cs(qa(t))}).prototype=cs.prototype,Os=ns(cs),Ps=0;Os.length>Ps;)(As=Os[Ps++])in ls||P(ls,As,cs[As]);Ss.constructor=ls}Pi&&gi(hs)!==ds&&Pi(hs,ds);var Rs=new fs(new ls(2)),Is=hs.setInt8;Rs.setInt8(0,2147483648),Rs.setInt8(1,2147483649),!Rs.getInt8(0)&&Rs.getInt8(1)||Xe(hs,{setInt8:function(t,e){Is.call(this,t,e<<24>>24)},setUint8:function(t,e){Is.call(this,t,e<<24>>24)}},{unsafe:!0})}else ls=function(t){Ze(this,ls,as);var e=qa(t);os(this,{bytes:es.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},fs=function(t,e,n){Ze(this,fs,ss),Ze(t,ls,ss);var r=is(t).byteLength,i=at(e);if(i<0||i>r)throw vs("Wrong offset");if(i+(n=void 0===n?r-i:ut(n))>r)throw vs("Wrong length");os(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},o&&(Ts(ls,"byteLength"),Ts(fs,"buffer"),Ts(fs,"byteLength"),Ts(fs,"byteOffset")),Xe(fs.prototype,{getInt8:function(t){return Es(this,1,t)[0]<<24>>24},getUint8:function(t){return Es(this,1,t)[0]},getInt16:function(t){var e=Es(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Es(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return ws(Es(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return ws(Es(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return gs(Es(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return gs(Es(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){ks(this,1,t,ys,e)},setUint8:function(t,e){ks(this,1,t,ys,e)},setInt16:function(t,e){ks(this,2,t,ms,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){ks(this,2,t,ms,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){ks(this,4,t,xs,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){ks(this,4,t,xs,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){ks(this,4,t,bs,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){ks(this,8,t,_s,e,arguments.length>2?arguments[2]:void 0)}});He(ls,as),He(fs,ss);var Ms={ArrayBuffer:ls,DataView:fs},Ls=function(t,e){var n=function(t){var e=at(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}(t);if(n%e)throw RangeError("Wrong offset");return n},Ds=Ga.aTypedArrayConstructor,Cs=function(t){var e,n,r,i,o,a,s=Mt(t),u=arguments.length,c=u>1?arguments[1]:void 0,l=void 0!==c,f=cn(s);if(null!=f&&!en(f))for(a=(o=f.call(s)).next,s=[];!(i=a.call(o)).done;)s.push(i.value);for(l&&u>2&&(c=Jt(c,arguments[2],2)),n=ut(s.length),r=new(Ds(this))(n),e=0;n>e;e++)r[e]=l?c(s[e],e):s[e];return r},js=e((function(t){var e=mt.f,n=ge.forEach,i=Q.get,a=Q.set,s=O.f,u=k.f,l=Math.round,f=r.RangeError,h=Ms.ArrayBuffer,d=Ms.DataView,v=Ga.NATIVE_ARRAY_BUFFER_VIEWS,p=Ga.TYPED_ARRAY_TAG,m=Ga.TypedArray,w=Ga.TypedArrayPrototype,b=Ga.aTypedArrayConstructor,_=Ga.isTypedArray,T="BYTES_PER_ELEMENT",E="Wrong length",A=function(t,e){for(var n=0,r=e.length,i=new(b(t))(r);r>n;)i[n]=e[n++];return i},S=function(t,e){s(t,e,{get:function(){return i(this)[e]}})},R=function(t){var e;return t instanceof h||"ArrayBuffer"==(e=sn(t))||"SharedArrayBuffer"==e},I=function(t,e){return _(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},M=function(t,e){return I(t,e=y(e,!0))?c(2,t[e]):u(t,e)},L=function(t,e,n){return!(I(t,e=y(e,!0))&&g(n)&&x(n,"value"))||x(n,"get")||x(n,"set")||n.configurable||x(n,"writable")&&!n.writable||x(n,"enumerable")&&!n.enumerable?s(t,e,n):(t[e]=n.value,t)};o?(v||(k.f=M,O.f=L,S(w,"buffer"),S(w,"byteOffset"),S(w,"byteLength"),S(w,"length")),Rt({target:"Object",stat:!0,forced:!v},{getOwnPropertyDescriptor:M,defineProperty:L}),t.exports=function(t,o,u){var c=t.match(/\d+$/)[0]/8,y=t+(u?"Clamped":"")+"Array",x="get"+t,b="set"+t,k=r[y],S=k,O=S&&S.prototype,I={},M=function(t,e){s(t,e,{get:function(){return function(t,e){var n=i(t);return n.view[x](e*c+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var r=i(t);u&&(n=(n=l(n))<0?0:n>255?255:255&n),r.view[b](e*c+r.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};v?Wa&&(S=o((function(t,e,n,r){return Ze(t,S,y),function(t,e,n){var r,i;return Pi&&"function"==typeof(r=e.constructor)&&r!==n&&g(i=r.prototype)&&i!==n.prototype&&Pi(t,i),t}(g(e)?R(e)?void 0!==r?new k(e,Ls(n,c),r):void 0!==n?new k(e,Ls(n,c)):new k(e):_(e)?A(S,e):Cs.call(S,e):new k(qa(e)),t,S)})),Pi&&Pi(S,m),n(e(k),(function(t){t in S||P(S,t,k[t])})),S.prototype=O):(S=o((function(t,e,n,r){Ze(t,S,y);var i,o,s,u=0,l=0;if(g(e)){if(!R(e))return _(e)?A(S,e):Cs.call(S,e);i=e,l=Ls(n,c);var v=e.byteLength;if(void 0===r){if(v%c)throw f(E);if((o=v-l)<0)throw f(E)}else if((o=ut(r)*c)+l>v)throw f(E);s=o/c}else s=qa(e),i=new h(o=s*c);for(a(t,{buffer:i,byteOffset:l,byteLength:o,length:s,view:new d(i)});u<s;)M(t,u++)})),Pi&&Pi(S,m),O=S.prototype=Ai(w)),O.constructor!==S&&P(O,"constructor",S),p&&P(O,p,y),I[y]=S,Rt({global:!0,forced:S!=k,sham:!v},I),T in S||P(S,T,c),T in O||P(O,T,c),Ke(y)}):t.exports=function(){}}));js("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}));var Us=Math.min,Fs=[].copyWithin||function(t,e){var n=Mt(this),r=ut(n.length),i=ft(t,r),o=ft(e,r),a=arguments.length>2?arguments[2]:void 0,s=Us((void 0===a?r:ft(a,r))-o,r-i),u=1;for(o<i&&i<o+s&&(u=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:delete n[i],i+=u,o+=u;return n},Ns=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("copyWithin",(function(t,e){return Fs.call(Ns(this),t,e,arguments.length>2?arguments[2]:void 0)}));var zs=ge.every,Bs=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("every",(function(t){return zs(Bs(this),t,arguments.length>1?arguments[1]:void 0)}));var Gs=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("fill",(function(t){return es.apply(Gs(this),arguments)}));var Vs=Ga.aTypedArrayConstructor,Ys=function(t,e){for(var n=_n(t,t.constructor),r=0,i=e.length,o=new(Vs(n))(i);i>r;)o[r]=e[r++];return o},Xs=ge.filter,Ws=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("filter",(function(t){var e=Xs(Ws(this),t,arguments.length>1?arguments[1]:void 0);return Ys(this,e)}));var qs=ge.find,Hs=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("find",(function(t){return qs(Hs(this),t,arguments.length>1?arguments[1]:void 0)}));var $s=ge.findIndex,Ks=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("findIndex",(function(t){return $s(Ks(this),t,arguments.length>1?arguments[1]:void 0)}));var Zs=ge.forEach,Js=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("forEach",(function(t){Zs(Js(this),t,arguments.length>1?arguments[1]:void 0)}));var Qs=dt.includes,tu=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("includes",(function(t){return Qs(tu(this),t,arguments.length>1?arguments[1]:void 0)}));var eu=dt.indexOf,nu=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("indexOf",(function(t){return eu(nu(this),t,arguments.length>1?arguments[1]:void 0)}));var ru=fe("iterator"),iu=r.Uint8Array,ou=Hi.values,au=Hi.keys,su=Hi.entries,uu=Ga.aTypedArray,cu=Ga.exportTypedArrayMethod,lu=iu&&iu.prototype[ru],fu=!!lu&&("values"==lu.name||null==lu.name),hu=function(){return ou.call(uu(this))};cu("entries",(function(){return su.call(uu(this))})),cu("keys",(function(){return au.call(uu(this))})),cu("values",hu,!fu),cu(ru,hu,!fu);var du=Ga.aTypedArray,vu=[].join;(0,Ga.exportTypedArrayMethod)("join",(function(t){return vu.apply(du(this),arguments)}));var pu=Math.min,gu=[].lastIndexOf,yu=!!gu&&1/[1].lastIndexOf(1,-0)<0,mu=ye("lastIndexOf"),xu=yu||!mu?function(t){if(yu)return gu.apply(this,arguments)||0;var e=p(this),n=ut(e.length),r=n-1;for(arguments.length>1&&(r=pu(r,at(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:gu,wu=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("lastIndexOf",(function(t){return xu.apply(wu(this),arguments)}));var bu=ge.map,_u=Ga.aTypedArray,Tu=Ga.aTypedArrayConstructor;(0,Ga.exportTypedArrayMethod)("map",(function(t){return bu(_u(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(Tu(_n(t,t.constructor)))(e)}))}));var Eu=function(t){return function(e,n,r,i){Zt(n);var o=Mt(e),a=d(o),s=ut(o.length),u=t?s-1:0,c=t?-1:1;if(r<2)for(;;){if(u in a){i=a[u],u+=c;break}if(u+=c,t?u<0:s<=u)throw TypeError("Reduce of empty array with no initial value")}for(;t?u>=0:s>u;u+=c)u in a&&(i=n(i,a[u],u,o));return i}},ku={left:Eu(!1),right:Eu(!0)},Au=ku.left,Su=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("reduce",(function(t){return Au(Su(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Ou=ku.right,Pu=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("reduceRight",(function(t){return Ou(Pu(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Ru=Ga.aTypedArray,Iu=Ga.exportTypedArrayMethod,Mu=Math.floor;Iu("reverse",(function(){for(var t,e=this,n=Ru(e).length,r=Mu(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e}));var Lu=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("set",(function(t){Lu(this);var e=Ls(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=Mt(t),i=ut(r.length),o=0;if(i+e>n)throw RangeError("Wrong length");for(;o<i;)this[e+o]=r[o++]}),i((function(){new Int8Array(1).set({})})));var Du=Ga.aTypedArray,Cu=Ga.aTypedArrayConstructor,ju=[].slice;(0,Ga.exportTypedArrayMethod)("slice",(function(t,e){for(var n=ju.call(Du(this),t,e),r=_n(this,this.constructor),i=0,o=n.length,a=new(Cu(r))(o);o>i;)a[i]=n[i++];return a}),i((function(){new Int8Array(1).slice()})));var Uu=ge.some,Fu=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("some",(function(t){return Uu(Fu(this),t,arguments.length>1?arguments[1]:void 0)}));var Nu=Ga.aTypedArray,zu=[].sort;(0,Ga.exportTypedArrayMethod)("sort",(function(t){return zu.call(Nu(this),t)}));var Bu=Ga.aTypedArray;(0,Ga.exportTypedArrayMethod)("subarray",(function(t,e){var n=Bu(this),r=n.length,i=ft(t,r);return new(_n(n,n.constructor))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,ut((void 0===e?r:ft(e,r))-i))}));var Gu=r.Int8Array,Vu=Ga.aTypedArray,Yu=Ga.exportTypedArrayMethod,Xu=[].toLocaleString,Wu=[].slice,qu=!!Gu&&i((function(){Xu.call(new Gu(1))}));Yu("toLocaleString",(function(){return Xu.apply(qu?Wu.call(Vu(this)):Vu(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new Gu([1,2]).toLocaleString()}))||!i((function(){Gu.prototype.toLocaleString.call([1,2])})));var Hu=Ga.exportTypedArrayMethod,$u=r.Uint8Array,Ku=$u&&$u.prototype||{},Zu=[].toString,Ju=[].join;i((function(){Zu.call({})}))&&(Zu=function(){return Ju.call(this)});var Qu=Ku.toString!=Zu;Hu("toString",Zu,Qu);var tc=Ms.ArrayBuffer,ec=Ms.DataView,nc=tc.prototype.slice,rc=i((function(){return!new tc(2).slice(1,void 0).byteLength}));Rt({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:rc},{slice:function(t,e){if(void 0!==nc&&void 0===e)return nc.call(A(this),t);for(var n=A(this).byteLength,r=ft(t,n),i=ft(void 0===e?n:e,n),o=new(_n(this,tc))(ut(i-r)),a=new ec(this),s=new ec(o),u=0;r<i;)s.setUint8(u++,a.getUint8(r++));return o}});var ic=O.f,oc=Function.prototype,ac=oc.toString,sc=/^\s*function ([^ (]*)/,uc="name";o&&!(uc in oc)&&ic(oc,uc,{configurable:!0,get:function(){try{return ac.call(this).match(sc)[1]}catch(t){return""}}}),js("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),js("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}})),js("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}})),js("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),js("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),js("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}));var cc=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this)).needsUpdate=!0,t.location=void 0,t}return n}(Fe),lc="BYTE",fc="UNSIGNED_BYTE",hc="SHORT",dc="UNSIGNED_SHORT",vc="INT",pc="UNSIGNED_INT",gc="FLOAT",yc=function(t,e){switch(t){case lc:return new Int8Array(e);case fc:return new Uint8Array(e);case hc:return new Int16Array(e);case dc:return new Uint16Array(e);case vc:return new Int32Array(e);case pc:return new Uint32Array(e);case gc:return new Float32Array(e)}},mc=function(t){Gt(n,t);var e=qt(n);function n(t,r,i){var o;return Ft(this,n),(o=e.call(this)).format=t,o.bufferType=r,o.usage=i,o.data=yc(o.format,1),o}return zt(n,[{key:"clear",value:function(){this.position=0,this.limit=0,this.needsUpdate=!0}},{key:"allocate",value:function(t){this.data.length<t&&this.extend(t),this.clear()}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.data.subarray(t,e)}},{key:"put",value:function(t){t instanceof Array||t instanceof Float32Array?(this.data.set(t,this.position),this.position+=t.length):(this.data[this.position]=t,this.position+=1),this.limit=this.position,this.needsUpdate=!0}},{key:"update",value:function(t,e){t instanceof Array||t instanceof Float32Array?this.data.set(t,e):this.data[e]=t,this.needsUpdate=!0}},{key:"extend",value:function(t){for(var e=this.data,n=e.length;n<t;)n*=2;this.data=yc(this.format,n),this.data.set(e)}}]),n}(cc);mc.Usage={Static:"STATIC_DRAW",Dynamic:"DYNAMIC_DRAW",Stream:"STREAM_DRAW"},mc.Type={Interleaved:"Interleaved",Index:"Index"};var xc=function(t){Gt(n,t);var e=qt(n);function n(t){var r;return Ft(this,n),(r=e.call(this,dc,mc.Type.Index,mc.Usage.Static)).drawMode=t,r}return n}(mc);xc.DrawMode={Triangles:"TRIANGLES"};var wc=function(t){Gt(n,t);var e=qt(n);function n(t){var r;return Ft(this,n),(r=e.call(this)).image=void 0,t&&r.setup(t),r}return zt(n,[{key:"setup",value:function(t){var e=this;return this.image||(this.image=new Image),new Promise((function(n,r){e.image.src!=t?(e.needsUpdate=!1,e.image.src=t,e.image.onload=function(){e.needsUpdate=!0,n()}):n()}))}}]),n}(cc),bc=function(){function t(){Ft(this,t),this.identity()}return zt(t,[{key:"identity",value:function(){this.data=[1,0,0,0,1,0,0,0,1]}},{key:"copy",value:function(t){for(var e=0;e<this.data.length;e++)t.data[e]=this.data.length}},{key:"translate",value:function(){}},{key:"rotate",value:function(){}},{key:"update",value:function(t,e,n,r,i){var o=Math.sin(n),a=Math.cos(n),s=this.data;s[0]=a*r,s[1]=o*r,s[3]=-o*i,s[4]=a*i,s[6]=t,s[7]=e}}]),t}(),_c=function(){function t(){Ft(this,t),this.identity()}return zt(t,[{key:"identity",value:function(){this.data=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"copy",value:function(t){for(var e=0;e<this.data.length;e++)t.data[e]=this.data.length}},{key:"perspective",value:function(t,e,n,r){var i=2*n;t=t*Math.PI/180;var o=1/(n-r),a=Math.tan(t/2)*n,s=-a,u=e*s,c=-u,l=this.data;l[0]=i/(c-u),l[5]=i/(a-s),l[10]=(r+n)*o,l[11]=-1,l[14]=i*r*o,l[15]=0}},{key:"update",value:function(t,e,n,r,i,o,a,s,u){var c=Math.sin(r),l=Math.cos(r),f=Math.sin(i),h=Math.cos(i),d=Math.sin(o),v=Math.cos(o),p=f*c,g=f*l,y=this.data;y[0]=v*h*a,y[1]=d*h*a,y[2]=-f*a,y[4]=(v*p-d*l)*s,y[5]=(d*p+v*l)*s,y[6]=h*c*s,y[8]=(v*g+d*c)*u,y[9]=(d*g-v*c)*u,y[10]=h*l*u,y[12]=t,y[13]=e,y[14]=n}}]),t}(),Tc=Object.freeze({__proto__:null,Matrix3:bc,Matrix4:_c}),Ec="Int",kc="Float",Ac="Vector2",Sc="Vector3",Oc="Vector4",Pc="Matrix3",Rc="Matrix4",Ic=function(t){Gt(n,t);var e=qt(n);function n(t,r,i){var o;return Ft(this,n),(o=e.call(this)).name=t,o.format=r,o.shaderVarFormat=i,o.offset=0,o.size=function(t){switch(t){case Ec:case kc:return 1;case Ac:return 2;case Sc:return 3;case Oc:return 4;case Pc:return 9;case Rc:return 16;default:return 0}}(i),o}return n}(cc),Mc=function(t){Gt(n,t);var e=qt(n);function n(t,r){var i,o,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(Ft(this,n),r)switch(o=gc,r.value.constructor){case wc:o=vc,a=Ec;break;case bc:a=Pc;break;case _c:a=Rc;break;case Zo:a=Ac;break;case Jo:a=Sc;break;case Qo:a=Oc;break;default:a=kc}return(i=e.call(this,t,o,a)).valueObject=r,i.textureUnit=s,i}return n}(Ic);Mc.Binding={Projection:"projectionMatrix",ModelView:"modelViewMatrix"};var Lc=function(t){Gt(n,t);var e=qt(n);function n(t){var r;return Ft(this,n),(r=e.call(this)).type=t,r}return zt(n,[{key:"updateSource",value:function(t){this.source=t}}]),n}(cc);Lc.VERTEX="VERTEX_SHADER",Lc.FRAGMENT="FRAGMENT_SHADER";var Dc=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this)).vertex=new Lc(Lc.VERTEX),t.fragment=new Lc(Lc.FRAGMENT),t.attributes=[],t.uniforms=[],t.stride=0,t}return zt(n,[{key:"addAttribute",value:function(t){this.attributes.push(t),this.needsUpdate=!0}},{key:"addUniform",value:function(t){this.uniforms.push(t),this.needsUpdate=!0}},{key:"update",value:function(){this.stride=0;for(var t=0;t<this.attributes.length;t++){var e=this.attributes[t];e.offset=this.stride,this.stride+=4*e.size}}}]),n}(cc),Cc={bound:{sceneContext:void 0,program:void 0,viewport:new Qo},test:{depth:!1,stensil:!1},reset:function(){this.bound={sceneContext:void 0,program:void 0,viewport:new Qo},this.test={depth:!1,stensil:!1}}},jc={setup:function(t){var e={alpha:!0,premultipliedAlpha:!1};this._gl=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),this.context?this.context.reset():this.context=Cc},updateTexture:function(t,e){var n=this._gl;t.location||(t.location=n.createTexture()),n.activeTexture(n["TEXTURE"+e]),n.bindTexture(n.TEXTURE_2D,t.location),t.needsUpdate&&(t.needsUpdate=!1,n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),t.image?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t.image):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([0,0,0,0])))},deleteTexture:function(t){t.location&&(this._gl.deleteTexture(t.location),t.location=void 0)},updateProgram:function(t){var e=this._gl;if(!t.location&&(t.location=e.createProgram(),this.updateShader(t.vertex),e.attachShader(t.location,t.vertex.location),this.updateShader(t.fragment),e.attachShader(t.location,t.fragment.location),e.linkProgram(t.location),this.deleteShader(t.vertex),this.deleteShader(t.fragment),!e.getProgramParameter(t.location,e.LINK_STATUS)))throw new Error("Could not initialise shaders");e.useProgram(t.location),this.context.bound.program=t,t.needsUpdate&&(t.update(),t.needsUpdate=!1);for(var n=0;n<t.attributes.length;n++)this.updateAttribute(t.attributes[n],t.stride);for(var r=0;r<t.uniforms.length;r++)this.updateUniform(t.uniformBuffer,t.uniforms[r])},deleteProgram:function(t){var e=this._gl;t.location&&e.deleteProgram(t.location)},updateShader:function(t){var e=this._gl;if(t.location||(t.location=e.createShader(e[t.type])),e.shaderSource(t.location,t.source),e.compileShader(t.location),!e.getShaderParameter(t.location,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(t.location))},deleteShader:function(t){var e=this._gl;t.location&&(e.deleteShader(t.location),t.location=void 0)},updateAttribute:function(t,e){var n=this._gl,r=t;if(!r.location){if(r.location=n.getAttribLocation(this.context.bound.program.location,r.name),r.location<0)throw new Error("attribute "+r.name+" undefined.");n.enableVertexAttribArray(r.location)}n.vertexAttribPointer(r.location,r.size,n[r.format],n.FALSE,e,r.offset)},updateUniform:function(t,e){var n=this._gl;switch(e.location||(e.location=n.getUniformLocation(this.context.bound.program.location,e.name)),e.name){case Mc.Binding.ModelView:n.uniformMatrix4fv(e.location,!1,bound.model.matrix.local.data);break;case Mc.Binding.Projection:n.uniformMatrix4fv(e.location,!1,bound.camera.matrix.projection.data);break;default:if(e.valueObject.value instanceof wc)this.updateTexture(e.valueObject.value,e.textureUnit),n.uniform1i(e.location,e.textureUnit);else switch(e.shaderVarFormat){case Ec:n.uniform1i(e.location,e.valueObject.value);break;case kc:n.uniform1f(e.location,e.valueObject.value);break;case Ac:n.uniform2fv(e.location,e.valueObject.value.data);break;case Sc:n.uniform3fv(e.location,e.valueObject.value.data);break;case Oc:n.uniform4fv(e.location,e.valueObject.value.data);break;case Pc:n.uniformMatrix3fv(e.location,e.valueObject.value.data);break;case Rc:n.uniformMatrix4fv(e.location,e.valueObject.value.data)}}},updateBuffer:function(t){var e,n=this._gl;t.location||(t.location=n.createBuffer()),e=t.bufferType!==mc.Type.Index?n.ARRAY_BUFFER:n.ELEMENT_ARRAY_BUFFER,n.bindBuffer(e,t.location),t.needsUpdate&&(n.bufferData(e,t.data,n[t.usage]),t.needsUpdate=!1)},updateSceneContext:function(t){if(this.context.bound.sceneContext!==t){var e=this._gl;this.context.test.depth!=t.test.depth&&(t.test.depth?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.context.test.depth=t.test.depth),this.context.test.stencil!=t.test.stencil&&(t.test.stencil?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.context.test.stencil=t.test.stencil),this.context.bound.sceneContext=t}},updateCamera:function(t){this.context.bound.camera=t;var e=t.viewport;this.context.bound.viewport.equals(e)||(this.context.bound.viewport.set(e.x,e.y,e.z,e.w),this._gl.viewport(e.x,e.y,e.width,e.height))},clear:function(t){var e=this._gl,n=t,r=0;n.clear.color&&(e.clearColor(n.color.r,n.color.g,n.color.b,n.color.a),r|=e.COLOR_BUFFER_BIT),n.clear.depth&&(r|=e.DEPTH_BUFFER_BIT),n.clear.stencil&&(r|=e.STENCIL_BUFFER_BIT),e.clear(r)},renderModel:function(t){this.context.bound.model=t,t.scene&&this.updateSceneContext(t.scene.context),this.updateCamera(t.scene.camera),this.renderMesh(t.mesh)},renderMesh:function(t,e){var n=this._gl;this.updateBuffer(t.vertexBuffer),this.updateProgram(t.material.program);var r=t.indexBuffer;this.updateBuffer(r),n.drawElements(n[r.drawMode],r.limit,n[r.format],0)}},Uc=function(){function t(){Ft(this,t),this.r=0,this.g=0,this.b=0,this.a=1}return zt(t,[{key:"set",value:function(t,e,n,r){this.r=t,this.g=e,this.b=n,this.a=r}}]),t}(),Fc=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this)).vertexBuffer=new mc(gc,mc.Type.Interleaved,mc.Usage.Static),t.indexBuffer=new xc(xc.DrawMode.Triangles),t}return n}(Fe),Nc=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this)).children=[],t.matrix={},t}return zt(n,[{key:"addChild",value:function(t){this.children.push(t),t.parent=this}},{key:"removeChild",value:function(t){t.parent=void 0;var e=this.children.indexOf(t);e>-1&&this.children.splice(e,1)}}]),n}(Fe),zc=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this)).mesh=new Fc,t}return n}(Nc),Bc=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this)).viewport=new Qo,t}return zt(n,[{key:"setViewport",value:function(t,e,n,r){this.viewport.set(t,e,n,r)}}]),n}(Nc),Gc=function t(){Ft(this,t),this.clear={color:!0,depth:!1,stencil:!1},this.test={depth:!1,stencil:!1},this.color=new Uc},Vc=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this)).context=new Gc,t.camera=new Bc,t}return zt(n,[{key:"addChild",value:function(t){t.parent&&t.parent.removeChild(t),Ht(Vt(n.prototype),"addChild",this).call(this,t),t.scene=this}},{key:"removeChild",value:function(t){Ht(Vt(n.prototype),"removeChild",this).call(this,t),t.scene=void 0}}]),n}(Nc),Yc=i((function(){It(1)}));Rt({target:"Object",stat:!0,forced:Yc},{keys:function(t){return It(Mt(t))}});var Xc,Wc=function(t){Gt(n,t);var e=qt(n);function n(t){var r;return Ft(this,n),(r=e.call(this,t)).program.addAttribute(new Ic("position",gc,Ac)),r}return n}((function t(e){var n=this;if(Ft(this,t),this.program=new Dc,this.program.vertex.updateSource(e.vertexShader),this.program.fragment.updateSource(e.fragmentShader),this.uniforms=e.uniforms,this.uniforms){var r=-1;Object.keys(this.uniforms).forEach((function(t){var e=n.uniforms[t];e.value instanceof wc?n.program.addUniform(new Mc(t,e,++r)):n.program.addUniform(new Mc(t,e))}))}})),qc=function(t){Gt(n,t);var e=qt(n);function n(){var t;Ft(this,n);var r=[-1,-1,1,-1,1,1,-1,1];(t=e.call(this)).mesh.vertexBuffer.allocate(r.length),t.mesh.vertexBuffer.put(r);var i=[0,1,2,0,2,3];return t.mesh.indexBuffer.allocate(i.length),t.mesh.indexBuffer.put(i),t}return zt(n,[{key:"material",set:function(t){this.mesh.material=t}}]),n}(zc),Hc=function(t){Gt(n,t);var e=qt(n);function n(t){var r;return Ft(this,n),(r=e.call(this)).canvas=t,r.scene=new Vc,r.model=new qc,r.mesh=r.model.mesh,r.scene.addChild(r.model),r._uniforms={texture0:{value:new wc},texture1:{value:new wc},progress:{value:0},resolution:{value:new Zo(0,0)}},r}return zt(n,[{key:"setup",value:function(t){Ht(Vt(n.prototype),"setup",this).call(this,t,void 0),jc.setup(this.canvas);var e=t.transition;this.mesh.material=new Wc({vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:Object.assign({},this._uniforms,e.uniforms)})}},{key:"dispose",value:function(){jc.deleteProgram(this.mesh.material.program),this.mesh.material=void 0}},{key:"render",value:function(){jc.clear(this.scene.context),jc.renderModel(this.model)}},{key:"resize",value:function(t,e){this.scene.camera.setViewport(0,0,t,e)}}]),n}(Ta),$c=function(t){Gt(n,t);var e=qt(n);function n(){var t;return Ft(this,n),(t=e.call(this)).dom=new _a,t.slide=new ba,t.renderer={default:new Ea,gl:void 0},t}return zt(n,[{key:"setup",value:function(t,e){this.dom.setup(t),e.set({numPages:this.dom.pages.length}),this.dom.pager&&(this.pager=this.pager||new fa,this.pager.setup(this.dom)),this.dom.prev&&(this.prev=this.prev||new aa,this.prev.setup(this.dom.prev)),this.dom.next&&(this.next=this.next||new aa,this.next.setup(this.dom.next)),this.renderer.default.setup(e.option,this.slide),this.renderer.gl=this.selectRenderer(e.option),this.renderer.gl.setup(e.option,this.slide),this.slide.setup(this.dom,this.renderer.gl.mesh)}},{key:"selectRenderer",value:function(t){return t.debug?new Ea:t.renderer||new Hc(this.dom.canvas)}},{key:"dispose",value:function(){this.pager&&(this.pager.off("index",this._onBubble),this.pager.dispose()),this.prev&&this.prev.dispose(),this.next&&this.next.dispose(),this.slide.dispose(),this.renderer.gl.dispose(),this.renderer.default.dispose(),this.dom.dispose()}}]),n}(Fe),Kc=function(t){Gt(n,t);var e=qt(n);function n(){var t,r;return Ft(this,n),(r=e.call(this)).state=new oa,r.view=new $c,r.controller=new ia(r.state,r.view),Object.assign(Xt(r),{prev:r.controller.usecases.slide.prev,next:r.controller.usecases.slide.next,autoplay:{start:r.controller.services.autoplay.start,stop:r.controller.services.autoplay.stop}}),(t=r).setup.apply(t,arguments),r}return zt(n,[{key:"setup",value:function(){this.isSetup&&this.dispose(),this.isSetup=!0,this.state.setup(arguments.length<=1?void 0:arguments[1]),this.view.setup(arguments.length<=0?void 0:arguments[0],this.state),this.controller.setup()}},{key:"dispose",value:function(){this.isSetup=!1,this.controller.dispose(),this.view.dispose(),this.state.dispose()}}]),n}(Fe),Zc=ea.extend({fragmentShader:"\nprecision highp float;\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\nuniform vec2 gradient;\n\nvoid main(void) {\n\tvec2 p = gl_FragCoord.xy /resolution.xy;\n\n\tfloat v = mix(0.0, 1.0, progress * (1.0+gradient.x+gradient.y) - ((1.0-p.x)*gradient.x+p.y*gradient.y));\n\tv = clamp(v, 0.0, 1.0);\n\n\tvec2 p0 = p;\n\tvec2 p1 = p;\n\n\tp0 -= 0.5;\n\tp0 *= (1.0 - v);\n\tp0 += 0.5;\n\n\tp1 -= 0.5;\n\tp1 *= v;\n\tp1 += 0.5;\n\n\tvec4 color0 = texture2D(texture0, p0);\n\tvec4 color1 = texture2D(texture1, p1);\n\n\tgl_FragColor = mix(color0, color1, v);\n}\n",uniforms:{gradient:{value:new Zo(.5,.5)}}}),Jc=ea.extend({fragmentShader:"\nprecision highp float;\n\n#define PI 3.141592653589793\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\n// uniform vec2 fade;\nuniform float strength;\n\n\nfloat Linear_ease(in float begin, in float change, in float duration, in float time) {\n    return change * time / duration + begin;\n}\n\nfloat Exponential_easeInOut(in float begin, in float change, in float duration, in float time) {\n    if (time == 0.0)\n        return begin;\n    else if (time == duration)\n        return begin + change;\n    time = time / (duration / 2.0);\n    if (time < 1.0)\n        return change / 2.0 * pow(2.0, 10.0 * (time - 1.0)) + begin;\n    return change / 2.0 * (-pow(2.0, -10.0 * (time - 1.0)) + 2.0) + begin;\n}\n\nfloat Sinusoidal_easeInOut(in float begin, in float change, in float duration, in float time) {\n    return -change / 2.0 * (cos(PI * time / duration) - 1.0) + begin;\n}\n\n/* random number between 0 and 1 */\nfloat hash(in vec3 scale, in float seed) {\n    /* use the fragment position for randomness */\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvec3 crossFade(in vec2 uv, in float dissolve) {\n    return mix(texture2D(texture0, uv).rgb, texture2D(texture1, uv).rgb, dissolve);\n}\n\nvoid main(void) {\n\tvec2 p = gl_FragCoord.xy /resolution.xy;\n\n\tvec2 center = vec2(Linear_ease(0.25, 0.5, 1.0, progress), 0.5);\n\tfloat dissolve = Exponential_easeInOut(0.0, 1.0, 1.0, progress);\n\tfloat strength = Sinusoidal_easeInOut(0.0, strength, 0.5, progress);\n\tvec3 color = vec3(0.0);\n\tfloat total = 0.0;\n\tvec2 toCenter = center - p;\n\tfloat offset = hash(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n\tfor (float t = 0.0; t <= 40.0; t++) {\n\t  float percent = (t + offset) / 40.0;\n\t  float weight = 4.0 * (percent - percent * percent);\n\t  color += crossFade(p + toCenter * percent * strength, dissolve) * weight;\n\t  total += weight;\n\t  gl_FragColor = vec4(color / total, 1.0);\n\t}\n}\n",uniforms:{strength:{value:1}}}),Qc=ea.extend({fragmentShader:"\nprecision highp float;\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\nuniform vec4 bgColor;\n\nuniform float floating;\nuniform float unzoom;\nuniform float perspective;\nuniform float reflection;\n\n\nvec2 project (vec2 p) {\n  return p * vec2(1.0, -1.2) + vec2(0.0, -floating/100.0);\n}\n\nbool inBounds (vec2 p) {\n  return all(lessThan(vec2(0.0), p)) && all(lessThan(p, vec2(1.0)));\n}\n\n/**\n * persp 0-1 1:æ­£å¯¾\n * center 1.0:from 0.0:to\n */\nvec2 xskew (vec2 p, float persp, float center) {\n  float x = mix(p.x, 1.0-p.x, center);\n  float d = distance(center, 0.5);\n  return (\n    (vec2( x, (p.y - 0.5 * (1.0 - persp) * x) / (1.0 + (persp - 1.0) * x)) - vec2(0.5 - d, 0.0))\n    * vec2(0.5 / d * -sign(center-0.5), 1.0)\n    + vec2(center, 0.0)\n  );\n}\n\nvoid main(void) {\n\tvec2 uv = gl_FragCoord.xy /resolution.xy;\n\n\tfloat uz = unzoom * 2.0 * (0.5 - distance(0.5, progress));\n\tvec2 p = -uz * 0.5 + (1.0 + uz) * uv;\n\n\tvec2 fromP, toP;\n\n\tfromP = xskew(\n\t\tp / vec2(1.0-progress, 1.0),\n\t\tmix(1.0-progress, 1.0, perspective),\n\t\t1.0\n\t);\n\n\ttoP = xskew(\n\t\t(p - vec2(1.0-progress, 0.0)) / vec2(progress, 1.0),\n\t\t1.0 - mix(1.0-progress, 0.0, perspective),\n\t\t0.0\n\t);\n\n\tif (inBounds(fromP)) {\n\t\tgl_FragColor = texture2D(texture0, fromP);\n\t}\n\telse if (inBounds(toP)) {\n\t\tgl_FragColor = texture2D(texture1, toP);\n\t}\n\telse {\n\t\tfromP = project(fromP);\n\t\ttoP = project(toP);\n\n\t\tvec4 color0 = texture2D(texture0, fromP);\n\t\tvec4 color1 = texture2D(texture1, toP);\n\n\t\tgl_FragColor = bgColor\n\t\t\t+ float(inBounds(fromP)) * mix(bgColor, color0, reflection * mix(1.0, 0.0, fromP.y))\n\t\t\t+ float(inBounds(toP)) * mix(bgColor, color1, reflection * mix(1.0, 0.0, toP.y));\n\t}\n\n\n\n\n}\n",uniforms:{bgColor:{value:new Qo(.1,.1,.1,1)},unzoom:{value:.3},floating:{value:3},perspective:{value:.7},reflection:{value:.4}}}),tl=ea.extend({fragmentShader:"\nprecision highp float;\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\n// uniform vec2 fade;\nuniform float strength;\n\nvoid main(void) {\n\tvec2 p = gl_FragCoord.xy /resolution.xy;\n\n\tvec4 c0 = texture2D(texture0, p);\n\tvec4 c1 = texture2D(texture1, p);\n\n\tvec2 oa = (((c0.rg + c0.b) * 0.5) * 2.0 - 1.0);\n\tvec2 ob = (((c1.rg + c1.b) * 0.5) * 2.0 - 1.0);\n\tvec2 oc = mix(oa,ob,0.5)*strength;\n\n\t// float v = smoothstep(0.0, 1.0, progress * (1.0+fade.x+fade.y) - ((1.0-p.x)*fade.x+p.y*fade.y));\n\tfloat v = progress;\n\n\tc0 = texture2D(texture0, p + oc * v);\n\tc1 = texture2D(texture1, p - oc * (1.0 - v));\n\n\tgl_FragColor = mix(c0, c1, v);\n}\n",uniforms:{strength:{value:1}}}),el=ea.extend({fragmentShader:"\nprecision highp float;\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\n// uniform vec2 fade;\n\nuniform float dark_low, dark_high, light_low, light_high;\nuniform float brightness, contrast, saturation;\nuniform vec3 light_tint, dark_tint;\n\nuniform float rgbOffsetOpt;\nuniform float horzFuzzOpt;\nuniform float zoom;\nuniform float time;\n\nuniform float t_amount, exposure;\n\nconst vec3 lumc = vec3(0.2125, 0.7154, 0.0721);\nconst vec3 avg_lum = vec3(0.5, 0.5, 0.5);\n\n\nvec3 tint(vec3 col)\n{\n\tfloat bri = (col.x + col.y + col.z)/3.0;\n\n\tfloat v = smoothstep(dark_low, dark_high, bri);\n\tcol = mix(dark_tint * bri, col, v);\n\n\tv = smoothstep(light_low, light_high, bri);\n\tcol = mix(col, min(light_tint * col, 1.0), v);\n\n\tvec3 intensity = vec3(dot(col.rgb, lumc));\n\tvec3 sat_color = mix(intensity, col.rgb, saturation);\n\tvec3 con_color = mix(avg_lum, sat_color, contrast);\n\t\n\treturn (con_color - 1.0 + brightness) * exposure;\n}\n\n// Noise generation functions borrowed from:\n// https://github.com/ashima/webgl-noise/blob/master/src/noise2D.glsl\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n\t// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n\t// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n\t// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n\t\t+ i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n\t// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n\t// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n\t// Normalise gradients implicitly by scaling m\n\t// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n\t// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nvoid main(void) {\n\n\tvec2 p =  gl_FragCoord.xy/resolution.xy;\n\tvec2 p0 = p;\n\tvec2 p1 = p;\n\n\tp0 -= 0.5;\n\tp1 -= 0.5;\n\tp0 *= 1.0 - progress * zoom;\n\tp1 *= 1.0 - (1.0 - progress) * zoom;\n\tp0 += 0.5;\n\tp1 += 0.5;\n\n\tfloat v = min(progress, 1.0 - progress) * 2.0;\t//0.0-1.0\n\n\tfloat fuzzOffset = snoise(vec2(time*15.0, p.y * 20.0)) * 0.0015;\n\tfloat largeFuzzOffset = snoise(vec2(time*1.0, p.y * 1.0)) * (0.003 + v * 0.01);\n\tfloat f_xoff = (fuzzOffset + largeFuzzOffset) * horzFuzzOpt * progress;\n    float b_xoff = (fuzzOffset + largeFuzzOffset) * horzFuzzOpt * (1.0 - progress);\n    \n    // float rgbOffset = rgbOffsetOpt * fuzzOffset * 300.0;\n    // float rgbOffset = rgbOffsetOpt;\n    float rgbOffset = snoise(vec2(time*15.0, 1.0)) * rgbOffsetOpt;\n\n\tvec3 f_col = vec3(\n\t\ttexture2D(texture0,\tvec2(p0.x + f_xoff -0.01 * rgbOffset * progress, p0.y)).r,\n\t\ttexture2D(texture0, vec2(p0.x + f_xoff,\t  p0.y)).g,\n\t\ttexture2D(texture0, vec2(p0.x + f_xoff +0.01 * rgbOffset * progress, p0.y)).b\n\t);\n\n\tvec3 b_col = vec3(\n\t\ttexture2D(texture1, vec2(p1.x + b_xoff -0.01 * rgbOffset * (1.0 - progress), p1.y)).r,\n\t\ttexture2D(texture1, vec2(p1.x + b_xoff,\t  p1.y)).g,\n\t\ttexture2D(texture1, vec2(p1.x + b_xoff +0.01 * rgbOffset * (1.0 - progress), p1.y)).b\n\t);\n\n\tvec3 ff_col = f_col;\n\tff_col = tint(ff_col);\n\tff_col = mix(f_col, ff_col, t_amount * progress);\n\n\tvec3 bb_col = b_col;\n\tbb_col = tint(bb_col);\n\tbb_col = mix(b_col, bb_col, t_amount * (1.0 - progress));\n\n\tgl_FragColor = vec4(mix(ff_col, bb_col, progress), 1.0);\n}\n",uniforms:(Xc={time:{value:0},zoom:{value:.3},dark_low:{value:100},dark_high:{value:200}},Bt(Xc,"dark_low",{value:200}),Bt(Xc,"dark_high",{value:255}),Bt(Xc,"contrast",{value:1}),Bt(Xc,"brightness",{value:1}),Bt(Xc,"saturation",{value:100}),Bt(Xc,"light_tint",{value:new Jo(.5,.5,.5)}),Bt(Xc,"dark_tint",{value:new Jo(.2,.2,.2)}),Bt(Xc,"t_amount",{value:.5}),Bt(Xc,"exposure",{value:30}),Bt(Xc,"horzFuzzOpt",{value:10}),Bt(Xc,"rgbOffsetOpt",{value:20}),Xc)}),nl=ea.extend({fragmentShader:"\nprecision highp float;\n\n\n#define N 10.0\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\n\nvoid main(void) {\n\tvec2 p = gl_FragCoord.xy /resolution;\t//0.0-1.0\n\tfloat aspect = resolution.x / resolution.y;\n\tfloat v = min(progress, 1.0 - progress) * 2.0;\t//0.0-1.0\n\tv = floor(v * 30.0) / 30.0;\n\n\tif(v > 0.0) {\n\t\tvec2 steps = vec2(aspect, 1.0) * N / v;\n\t\n\t\tp -= 0.5;\n\t\n\t\tsteps = min(steps, resolution.xy);\n\t\tp = (floor(p * steps) + 0.5) / steps;\n\t\n\t\tp += 0.5;\n\t}\n\n\tvec4 c0 = texture2D(texture0, p);\n\tvec4 c1 = texture2D(texture1, p);\n\n\tgl_FragColor = mix(c0, c1, progress);\n}\n",uniforms:{}}),rl=ea.extend({fragmentShader:"\n\nprecision highp float;\n\n#define N 10.0\n\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform float progress;\nuniform vec2 resolution;\nuniform vec2 gradient;\n\nvoid main(void) {\n\tvec2 p = gl_FragCoord.xy /resolution;\n\tfloat aspect = resolution.x / resolution.y;\n\n\tfloat v = mix(0.0, 1.0, progress * (1.0+gradient.x+gradient.y) - ((1.0-p.x)*gradient.x+p.y*gradient.y));\n\tv = clamp(v, 0.0, 1.0);\n\tv = floor(v * 16.0) / 16.0;\n\n\tif(v!=0.0) {\n\t\tp -= 0.5;\n\t\n\t\tfloat pv = min(v, 1.0 - v) * 2.0;\t//0.0-1.0\n\t\tvec2 steps = vec2(aspect, 1.0) * N / pv;\n\t\tsteps = min(steps, resolution.xy);\n\t\tp = (floor(p * steps) + 0.5) / steps;\n\t\n\t\tp += 0.5;\n\t}\n\n\tvec4 c0 = texture2D(texture0, p);\n\tvec4 c1 = texture2D(texture1, p);\n\n\t// v = step(0.5, v);\n\n\tgl_FragColor = mix(c0, c1, v);\n}\n",uniforms:{gradient:{value:new Zo(.5,0)}}}),il=Object.freeze({__proto__:null,BaseTransition:ea,CrossWarpTransition:Zc,CrossZoomTransition:Jc,CubeTransition:Qc,MorphTransition:tl,NoiseTransition:el,PixelateTransition:nl,PixelateWipeTransition:rl});return Kc.stage=Kr,Object.assign(Kc,il,ta,Tc),Kc.Debug=na.Debug,"undefined"!=typeof window&&(window.XSlider=Kc),Kc}));
